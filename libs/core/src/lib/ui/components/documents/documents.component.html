
<div class="w-100 px-3 py-4  m-r-5 m-b-7" style="background: white;">
  <div class="row mb-2">
    <div class="col-md-6">
      <app-page-size-selector (selectedOptionChange)="onPageSizeChange($event)"
                              [options]="gridViewModel.pageSizeOptions" [selectedOption]="gridViewModel.pageSize">
      </app-page-size-selector>
    </div>

  </div>

  <app-ag-filter-display [grid]="agGridAngular"></app-ag-filter-display>
  <ag-grid-angular
    #agGridAngular
    appAgGridFirstColumnLocked
    appAgGridFilterPresets
    appAgGridSizeToFit
    appAgGridEmptyFilterOption
    id="documents-grid" class="ag-theme-balham ag-shiptech-theme" style="height:calc( 100vh - 352px );"
    [gridOptions]="gridViewModel.gridOptions">
  </ag-grid-angular>

  <div class="row mt-2">
    <div class="col-md-6">
      Showing {{((gridViewModel.page - 1) * gridViewModel.pageSize) + 1}}
      to {{gridViewModel.page * gridViewModel.pageSize}} of {{gridViewModel.totalItems}} entries
    </div>
    <div class="col-md-6">
      <div style="float:right">
        <span class="f-s-10">Page</span>
        <app-ag-paging style="width: 150px;" [pagerLeftArrowIcon]="'fa fa-chevron-left'"
                       [pagerRightArrowIcon]="'fa fa-chevron-right'" [count]="gridViewModel.totalItems" [page]="gridViewModel.page"
                       [size]="gridViewModel.pageSize" [useInputAsPageSelect]="true" (pageChange)="onPageChange($event.page)">
        </app-ag-paging>
        <span class="f-s-10">
        of {{ gridViewModel.totalPages }}
      </span>
      </div>
    </div>
  </div>
</div>

<ng-template [columnDef]="[gridViewModel.deleteCol]" appAgCellTemplate let-data="data" let-value="value">
  <span (click)="deleteDocument(data.id)"><i class="fas fa-trash-alt"></i></span>
</ng-template>

<ng-template [columnDef]="[gridViewModel.nameCol]" appAgCellTemplate let-data="data" let-value="value">
  <span (click)="downloadDocument(data.id)">{{data?.name}}</span>
</ng-template>

<ng-template [columnDef]="[gridViewModel.isVerifiedCol]" appAgCellTemplate let-data="data" let-value="value">
  <div fxLayout="row" fxLayoutAlign="center center">
    <p-checkbox binary="true" [(ngModel)]="data.isVerifiedCol" (ngModelChange)="updateIsVerifiedDocument(data, $event)">
    </p-checkbox>
  </div>
</ng-template>

<ng-template [columnDef]="[gridViewModel.notesCol]" appAgCellTemplate let-data="data" let-value="value">
  <span (click)="updateNotesDocument(data?.id, data?.notes)"><i class="fas fa-comments"></i></span>
</ng-template>


