<h2 mat-dialog-title>
  Available Filters
  <mat-icon matSuffix id="dialogCloseButton" class="float-right" (click)="cancelEditing()">close </mat-icon>
</h2>
<hr />
<mat-dialog-content>
  <div id="available-filter-content">
    <mat-chip-list>
      <div *ngFor="let filter of filterItems">
        <!-- NOTE: Add track by -->
        <div
          *ngIf="!filter.isDefault && !filter.isClear"
          [matTooltip]="filter.name"
          [ngClass]="[filter.isActive && !isEditing ? 'chip-look-alike active-chip text-center' : ' chip-look-alike inactive-chip text-center']"
        >
          <div class="truncate-f85 text-center">
            <input
              matInput
              required
              type="text"
              class="pt-sm-1 ml-sm-3"
              [ngClass]="{ 'text-ellipsis': !isEditing, 'text-underline': isEditing }"
              [(ngModel)]="filter.name"
              [readonly]="!isEditing"
              placeholder="{{ filter.name }}{{ filter.hasChanges ? '*' : '' }}"
            />
          </div>
          <div matSuffix *ngIf="!isEditing" class="chip-circle chip-icon" [matTooltip]="filter.isPinned ? 'Unpin' : 'Pin'" (click)="setPinned(filter.id)">
            <i *ngIf="filter.isPinned" class="fas fa-thumbtack aggrid-rotate-45"></i>
          </div>
          <div matSuffix *ngIf="isEditing" (click)="openDeleteFilterDialog(filter.id)" class="chip-circle chip-icon" matTooltip="Delete">
            <i class="fas fa-times"></i>
          </div>
        </div>
      </div>
    </mat-chip-list>
    <div *ngIf="hasAvailableFilterItems">
      <h5 mat-dialog-title>No Available Filters</h5>
    </div>
  </div>
</mat-dialog-content>
<mat-dialog-actions class="float-right">
  <button mat-button (click)="cancelEditing()">CANCEL</button>
  <button *ngIf="isEditing" class="blue-outline-button" mat-button mat-stroked-button (click)="isEditing = false">DONE</button>
  <button class="blue-outline-button" mat-button mat-stroked-button *ngIf="!isEditing" (click)="enableEditing()">EDIT</button>
  <button class="blue-button" mat-button cdkFocusInitial (click)="updateAllFilters()">APPLY</button>
</mat-dialog-actions>

<ng-template #deleteFilter>
  <div id="deleteFilterPopup">
    <h2 mat-dialog-title>
      Are you sure want to delete
      <mat-icon matSuffix id="dialogCloseButtonDl" (click)="deleteFilterDialog.close()" class="float-right cursor-pointer">close </mat-icon>
    </h2>
    <hr />
    <mat-dialog-content>
      <div id="filter-delete-confirmation">
        <mat-chip-list>
          <mat-chip
            [matTooltip]="filterToBeDeleted.name"
            [matTooltipShowDelay]="500"
            [ngClass]="[filterToBeDeleted.isActive == true ? 'active-chip text-center' : 'inactive-chip text-center']"
            style="pointer-events:none;"
          >
            <div class="truncate-f85 text-center">
              {{ filterToBeDeleted.name }}
            </div>
            <div matSuffix class="chip-circle">
              <i *ngIf="filterToBeDeleted.isPinned" class="fas fa-thumbtack aggrid-rotate-45"></i>
            </div>
          </mat-chip>
        </mat-chip-list>
      </div>
    </mat-dialog-content>
    <mat-dialog-actions>
      <button class="red-button" mat-button cdkFocusInitial (click)="removeFilter(filterToBeDeleted.id)">DELETE</button>
      <button class="blue-button" mat-button cdkFocusInitial (click)="deleteFilterDialog.close()">CANCEL</button>
    </mat-dialog-actions>
  </div>
</ng-template>
