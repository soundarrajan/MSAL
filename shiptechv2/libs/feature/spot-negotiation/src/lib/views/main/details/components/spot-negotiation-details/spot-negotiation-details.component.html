<div class="spot-nego-content">
  <div class="grid-in-accordion">
      <mat-expansion-panel *ngFor="let loc of locations; let i = index; trackBy: identifyer"
        [expanded]="Index == 0 ? ((loc.expand != undefined &&  loc.expand == 0)? false : true) : (loc.expand != undefined ? (loc.expand == 1 ? true : false) : true)"
        style="margin-top: 1px;"
      >
        <mat-expansion-panel-header (click)="storeExpansionState(loc,Index)">
          <mat-panel-title> 
            <app-loc-pan-data
              [reqLocation]="loc"
              (costChanged)="onCostChanged($event)"
            ></app-loc-pan-data>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <ng-template matExpansionPanelContent>
          <div
            style="width: 100%;height: 100%;overflow-x:auto;"
            class="aggrid-container"
          >
            <div appResizable style="position: relative;width: 100%;">
              <div class="grid-content" [style.width.px]="fullHeaderWidth">
                <div class="grid-container">
                  <div class="agGrid-v2" style="margin:0px">
                    <div style="width:100%;height: 100%;">
                      <ag-grid-angular
                        class="ag-theme-material ag-grid-v2 angular-v9 spot-negotiation-details"
                        style="width: 100%;height: 100%;"
                        domLayout="autoHeight"
                        [rowData]="rowData_aggridObj[i]"
                        [columnDefs]="columnDef_aggridObj[i]"
                        [gridOptions]="gridOptions_counterparty"
                        [overlayLoadingTemplate]="overlayLoadingTemplate"
                        [overlayNoRowsTemplate]="overlayNoRowsTemplate"
                        [rowClassRules]="rowClassRules"
                        [immutableData]="true"
                        [getRowNodeId]="getRowNodeId"
                        [suppressRowClickSelection]="true"
                        [context]="context"
                      >
                      </ag-grid-angular>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </mat-expansion-panel>
    
  </div>
</div>
<!-- (rowSelected)="rowSelected($event)" -->
<!-- (selectionChanged)="onSelectionChanged($event)" -->
<!-- (selectionChanged)="SelectionChanged($event)" -->

<!-- (selectionChanged)="SelectionChanged1($event)" -->
<!-- (rowSelected)= "SelectionChanged($event)" -->
<!-- (checkboxChanged)="selectAllRenderer($event)" -->
