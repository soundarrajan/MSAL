<div class="dark-wrapper info-bar">
  <div style="display: flex;align-items: center; flex: 0 0 25%;justify-content: center;">
    <div class="label-title"> Currently viewing:</div>
    <div class="label-text" style="margin: 0px 5px;">Vessel</div>
    <app-search-vessel (changeVessel)="changeVessel.emit($event)" [vesselList]="vesselList" [vesselData]="vesselData"></app-search-vessel>
  </div>
  <div style="display: flex;align-items: center; flex: 0 0 10%;justify-content: center;">
    <div class="label-text"> Bunker Log</div>
  </div>
  <div style="display: flex;align-items: center; flex: 0 0 15%;justify-content: center;">
    <div class="custom-form-field create-new-formula-form-field">
      <mat-form-field class="with-search" appearance="legacy">
        <mat-label>From</mat-label>
        <input 
        [(ngModel)]="fromLogDate"
         #FromLogDate="ngModel"
        matInput [matDatepicker]="FromLogDate"
        (dateInput)="onDateChange($event, 'FromLogDate')"
        (dateChange)="fromLogDate = formatDateForBe(FromLogDate)">
        <mat-datepicker-toggle matSuffix [for]="FromLogDate"></mat-datepicker-toggle>
        <mat-datepicker #FromLogDate></mat-datepicker>
      </mat-form-field>
    </div>
  </div>
  <div></div>
  <div style="display: flex;align-items: center; flex: 0 0 15%;justify-content: center;">
    <div class="custom-form-field create-new-formula-form-field">
      <mat-form-field>
        <mat-label>To</mat-label>
        <input 
        [(ngModel)]="toLogDate"
         #ToLogDate="ngModel"
        matInput [matDatepicker]="ToLogDate" 
        (dateInput)="onDateChange_to($event, 'FromLogDate')"       
        (dateChange)="toLogDate = formatDateForBe(ToLogDate)">
        <mat-datepicker-toggle matSuffix [for]="ToLogDate"></mat-datepicker-toggle>
        <mat-datepicker #ToLogDate></mat-datepicker>
      </mat-form-field>
    </div>
  </div>
  <div style="display: flex;align-items: center; flex: 0 0 10%;justify-content: center;">
    <div class="label-text" style="margin: 0px 5px;">Plan Status</div>
  </div>

<div style="display: flex;align-items: center; flex: 0 0 2%;justify-content: center;">
  <mat-form-field appearance="fill">
    <mat-select [(ngModel)]="planStatus" [placeholder]="planStatus" (selectionChange)="onStatusChange($event)">
      <mat-option value="all">All</mat-option>
      <mat-option value="invalid">Invalid</mat-option>
      <mat-option value="valid">Valid</mat-option>
    </mat-select>
  </mat-form-field>    
</div>

</div>
<!-- BUNKERING PLANS -->
<div *ngIf="bunkerPlanLogDetail.length > 1" id="accordion-container-dark">  
  <mat-accordion multi="false">
    <mat-expansion-panel #panel *ngFor="let item of bunkerPlanLogDetail" hideToggle="true" id="bunker-plan"
      [ngClass]="{'fullheight':item.expanded}" [expanded]="false" (opened)="item.expanded = true"
      (closed)="item.expanded = false">
      <mat-expansion-panel-header collapsedHeight="31px" expandedHeight="34px">
        <mat-panel-title>
          <div class="">
            <div *ngIf="!panel.expanded;else collapseBlock" class="expand-accordion-icon2 expand-collapse-icon"></div>
            <!-- <img *ngIf="!panel.expanded;else collapseBlock" src="./assets/customicons/expand-icon2.svg"
              alt="expand-icon"> -->
            <ng-template #collapseBlock>
              <div class="collapse-accordion-icon2 expand-collapse-icon"></div>
              <!-- <img src="./assets/customicons/collapse-icon2.svg" alt="collapse-icon"> -->
            </ng-template>
          </div>
          <div style="display: flex;align-items: center;width: 100%;">
            <div style="flex: 0 0 20%;"><span style="margin-left: 10px;">Bunkering Plan ID: {{item.planId}}</span></div>
            <div style="flex:0 0 80%;display: flex;align-items: center;">
              <div id="plan-date" class="border-l-rightside" style="flex:0 0 15%;text-align: center;">
                <span class="title">Plan Date :</span>
                <span class="content">{{item.createdOn | date: 'dd/MM/yyyy'}}</span>
               </div>
               <div id="plan-date" class="border-l-rightside" style="flex:0 0 15%;text-align: center;">
                <span class="content">{{item.planStatus}}</span>
               </div>
            </div>
          </div>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="panel-body">
        <app-bunker-plan *ngIf="panel.expanded"  [isExpanded]="panel.expanded"></app-bunker-plan>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>
<!-- ------------------- -->