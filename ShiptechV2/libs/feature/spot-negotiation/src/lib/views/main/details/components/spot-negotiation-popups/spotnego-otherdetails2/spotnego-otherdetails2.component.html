<div class="spot-popup-header-container" style="padding-left:45px;">
    <div class="spot-nego-title">Other Details</div>
    <div class="spot-dialog-title-right">
      <button class="cancel-btn w-104" mat-button [mat-dialog-close]="true">Cancel</button>
      <button class="proceed-btn w-104" mat-button [mat-dialog-close]="true" (click)="saveOtherDetails()">Save</button>
      <div class="title-divider">|</div>
      <div class="close-circle">
        <mat-icon id="dialogCloseButton" matSuffix class="" (click)="closeDialog() "
          style="font-size: 14px; display: inline; position:relative; top:-1px; ">close</mat-icon>
      </div>
    </div>
  
  </div>
  <hr class="hr-line mb-0" style="height: 0.1px;">
  
  <div id="custom-tabs-v2" class="shiptech-inverted-tab" [@.disabled]="true">
    
      <mat-tab-group #tabs  mat-align-tabs="end" [selectedIndex]="2">
      <mat-tab #tab>
        <ng-template mat-tab-label>
          <div class="custom-label-holder">
            <div class="custom-tab-ui"></div>
            <div class="custom-label">Pricing Data</div>
          </div>
  
        </ng-template>
        <ng-container>
          <div class="custom-tab-container pricing-details-tab-container">
            <div class="row d-flex col-md-12">
              <div class="col-md-6 pricing-formula-tab" style="display: flex;justify-content: flex-start;">
                <div class="pricing-formula-tab-header col-md-12">
                  <div [ngClass]="{'selected-tab': selectedFormulaTab == 'Pricing formula', 
                              'unselected-tab': selectedFormulaTab != 'Pricing formula'}"
                              (click)="selectedFormulaTab = 'Pricing formula'; " >
                    <div class="value">Pricing formula</div>
                  </div>
                  <div class="border_line"></div>
                  <div [ngClass]="{'selected-tab': selectedFormulaTab == 'Pricing schedule', 
                              'unselected-tab': selectedFormulaTab != 'Pricing schedule'}"
                              (click)="selectedFormulaTab = 'Pricing schedule'; "         >
                    <div class="value">Pricing schedule</div>
                  </div>
                  <div class="border_line"></div>
                  <div [ngClass]="{'selected-tab': selectedFormulaTab == 'Discount rules',
                              'unselected-tab': selectedFormulaTab != 'Discount rules'}"
                    (click)="selectedFormulaTab = 'Discount rules';">
                    <div class="value">Discount rules</div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="custom-form-field lightTheme" style="width: 100% !important;">
                  <mat-form-field class="without-search">
                    <mat-label>Formula Name</mat-label>
                    <input matInput name="formula-name" placeholder="Formula Name">
                  </mat-form-field>
                </div>
              </div>
            </div>
            <div class="row d-flex col-md-12">
              <div class="col-md-12">
                <div class="pricing-type-container">
                  <div class="col-md-12 pricing-container" style="padding-top: 10px;">
                    <div class="pricing-container-formula-list row col-md-2 no-padding" >
                      <div class="col-md-12 pricing-container-formula-list-header">
                        Pricing Type
                      </div>
                      <div class="col-md-12">
                        <mat-radio-group class="pricing-container-radio-group">
                          <mat-radio-button class="pricing-container-radio-button">
                            Simple
                          </mat-radio-button>
                        </mat-radio-group>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12 formula-description-header">
                        Formula description
                      </div>
                      <div class="col-md-12 d-flex" style="margin-top: 15px; flex-wrap: wrap;">
                        <div class="custom-form-field create-new-formula-form-field"
                          [ngClass]="{'darkTheme':switchTheme,'lightTheme':!switchTheme}">
                          <div class="d-flex">
                            <mat-form-field class="with-search" appearance="legacy">
                              <mat-label>System instument</mat-label>
                              <input class="free-text-field" type="text" matInput required placeholder="System instument">
                            </mat-form-field>
                            <button class="search-icon">
                              <div class="img">
                              </div>
                            </button>
                          </div>
                        </div>
                        <div class="custom-form-field create-new-formula-form-field"
                          [ngClass]="{'darkTheme':switchTheme,'lightTheme':!switchTheme}">
                          <div class="d-flex">
                            <mat-form-field class="with-search" appearance="legacy">
                              <mat-label>Price Type</mat-label>
                              <input class="free-text-field" type="text" matInput required placeholder="Price Type">
                            </mat-form-field>
                            <button class="search-icon">
                              <div class="img">
                              </div>
                            </button>
                          </div>
                        </div>
                        <div class="custom-form-field create-new-formula-form-field"
                          [ngClass]="{'darkTheme':switchTheme,'lightTheme':!switchTheme}">
                          <mat-form-field class="without-search">
                            <mat-label>Premium/Discount</mat-label>
                            <mat-select placeholder="Premium/Discount">
                              <mat-option>
                                Discount
                              </mat-option>
                            </mat-select>
                            
                          </mat-form-field>
                        </div>
                        <div class="custom-form-field create-new-formula-form-field"
                          [ngClass]="{'darkTheme':switchTheme,'lightTheme':!switchTheme}">
                          <mat-form-field class="without-search" appearance="legacy">
                            <mat-label>Amount</mat-label>
                            <input matInput placeholder="Amount">
                          </mat-form-field>
                        </div>
                        <div class="custom-form-field create-new-formula-form-field"
                          [ngClass]="{'darkTheme':switchTheme,'lightTheme':!switchTheme}">
                          <mat-form-field class="without-search">
                            <mat-label>Flat/Percentage</mat-label>
                            <mat-select placeholder="Flat/Percentage">
                              <mat-option selected>
                                Flat
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div class="custom-form-field create-new-formula-form-field"
                          [ngClass]="{'darkTheme':switchTheme,'lightTheme':!switchTheme}">
                          <mat-form-field class="without-search">
                            <mat-label>UOM</mat-label>
                            <mat-select placeholder="Flat/Percentage">
                              <mat-option selected>
                                BBL
                              </mat-option>
                              <mat-option selected>
                                MT
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        
                        <div class="custom-form-field create-new-formula-form-field"
                          [ngClass]="{'darkTheme':switchTheme,'lightTheme':!switchTheme}">
                          <div class="convertorEditable-component-v2">
                            <div class="block">
                                <div class="title">Mass UOM</div>
                                <div class="inline-dropdown">
                                    <span style="font-weight: 500;">1 MT</span>
                                </div>
                            </div>
                            <div class="convert-img">
                            </div>
                            <div style="padding:2px;">
                            <div class="block dashed-border">
                                <div class="title">Conversion Rate</div>
                                <div class="value">2500</div>
                            </div>
                            </div>
                            <div class="block m-l-15">
                                <div class="title">Volume UOM</div>
                                <div class="inline-dropdown">
                                    <mat-form-field style="background: none !important;">
                                        <mat-select value="mt" disableOptionCentering>
                                            <mat-option value="mt">MT</mat-option>
                                            <mat-option value="gal">GAL</mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        </div>
                      </div>
                    </div>
  
                    <div class="col-md-12 no-padding">
                      <mat-form-field appearance="outline" class="custom-form-field-comments">
                        <mat-label>Comments</mat-label>
                        <textarea matInput rows="4" cols="60" placeholder="Comments"></textarea>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>
            </div>
  
          </div>
        </ng-container>
      </mat-tab>
      <mat-tab #tab>
        <ng-template mat-tab-label>
          <div class="custom-label-holder">
            <div class="custom-tab-ui"></div>
            <div class="custom-label">Request Change</div>
          </div>
  
        </ng-template>
        <ng-container>
          <div class="custom-tab-container pricing-details-tab-container">
  
            <div class="row d-flex col-md-12">
              <div class="col-md-12">
                <div class="pricing-type-container">
                  <div class="col-md-12 pricing-container">
  
                    <div class="row" style="height: 87px; align-items: center;">
  
                      <div class="col-md-12 d-flex" style=" flex-wrap: wrap;">
                        <div class="custom-form-field create-new-formula-form-field"
                          [ngClass]="{'darkTheme':switchTheme,'lightTheme':!switchTheme}">
                          <div class="d-flex">
                            <mat-form-field class="with-search" appearance="legacy">
                              <mat-label>Quoted Product</mat-label>
                              <input
                                class="free-text-field"
                                type="text"
                                matInput
                                [(ngModel)]="otherDetailsItems[productIndex].product"
                                [matAutocomplete]="auto"
                                placeholder="Quoted Product"
                                required
                              />
                              <mat-autocomplete
                                #auto="matAutocomplete"
                                class="darkPanelAuto"
                                [displayWith]="displayFn"
                              >
                                <mat-option *ngFor="let product of filterProductList()" [value]="product">
                                  {{ product.name }}
                                </mat-option>
                              </mat-autocomplete>
                            </mat-form-field>
                            <button
                            class="search-icon"
                            appMasterSelectorTrigger
                            [masterSelector]="masterSelector"
                            #masterSelectorTrigger="masterSelectorTrigger"
                            [header]="getHeaderNameSelector()"
                          >
                            <div class="img">
                              <ng-template cdkPortal #masterSelector="cdkPortal">
                                <shiptech-shared-master-selector
                                  (selectedChange)="
                                    selectorProductSelectionChange($event);
                                    masterSelectorTrigger.close()
                                  "
                                  (shouldCloseModal)="masterSelectorTrigger.close()"
                                  [selectorType]="autocompleteProducts"
                                  [entityName]="entityName"
                                  [entityId]="entityId"
                                  [headerName]="getHeaderNameSelector()"
                                ></shiptech-shared-master-selector>
                              </ng-template>
                            </div>
                          </button>
                          </div>
                        </div>
  
                        <div class="custom-form-field create-new-formula-form-field">
                          <mat-form-field
                            class="without-search long-label-field input-field-container"
                            style="width: 64%;border: none;"
                            appearance="legacy"
                          >
                            <mat-label>Supply Qty</mat-label>
                            <input
                              [(ngModel)]="
                              otherDetailsItems[productIndex].SupplyQuantity
                              "
                              matInput
                              class="text-ellipsis"
                              autocomplete="off"
                              placeholder="Supply Qty"
                              quantityFormat
                              (keypress)="keyPressNumber($event)"
                            />
                          </mat-form-field>
                          <mat-form-field style="width: 36%" appearance="legacy">
                            <mat-select
                              disableRipple
                              [(ngModel)]="
                              otherDetailsItems[productIndex].uom
                              "
                              [compareWith]="compareUomObjects"
                              [disableOptionCentering]="true"
                              [disabled]="true"
                            >
                              <mat-option *ngFor="let uom of uomList" [value]="uom">{{
                                uom.name
                              }}</mat-option>
                            </mat-select>
                          </mat-form-field>
                        </div>
                        <div
                        class="custom-form-field"
                        [ngClass]="{ darkTheme: switchTheme, lightTheme: !switchTheme }"
                      >
                        <mat-form-field
                          class="without-search"
                          appearance="legacy"
                          [ngClass]="{
                            'date-invalid': isSupplyDeliveryDateInvalid,
                            'date-valid': !isSupplyDeliveryDateInvalid
                          }"
                        >

                          <mat-label>Supply date</mat-label>
                          <input
                            [(ngModel)]="otherDetailsItems[productIndex].SupplyDeliveryDate"
                            matInput
                            [ngxMatDatetimePicker]="supplyDeliveryDate"
                            (focus)="supplyDeliveryDate.open()"
                            (onInput)="onChange($event, 'supplyDeliveryDate')"
                            (dateChange)="
                            otherDetailsItems[productIndex].SupplyDeliveryDate = formatDateForBe(otherDetailsItems[productIndex].SupplyDeliveryDate)
                            "
                            autocomplete="off"
                            placeholder="Supply Delivery Date"
                          />
                          <button
                          mat-icon-button
                          matSuffix
                          (click)="supplyDeliveryDate.open(); $event.stopPropagation()"
                        >
                        <mat-icon class="icon-date"> </mat-icon>
                      </button>
                      <ngx-mat-datetime-picker #supplyDeliveryDate></ngx-mat-datetime-picker>
                        </mat-form-field>
                      </div>
                        <!-- <div id="custom-form-field" class="lightTheme supply-date m-l-0">
                            <mat-form-field class="without-search" appearance="legacy">
                                <mat-label>Supply Date</mat-label>
                                <input name="Supply date" 
                                [(ngModel)]="otherDetailsItems[productIndex].SupplyDeliveryDate"
                                matInput [matDatepicker]="SupplyDeliveryDate" (focus)="SupplyDeliveryDate.open()" autocomplete="off" placeholder="Supply Date">
                                <mat-datepicker-toggle matSuffix [for]="SupplyDeliveryDate">
                                    <mat-icon matDatepickerToggleIcon class="mini-dateIcon">
                                    </mat-icon>
                                </mat-datepicker-toggle>
                                <mat-datepicker #SupplyDeliveryDate></mat-datepicker>
                            </mat-form-field>
                         </div> -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
      </mat-tab>
    </mat-tab-group>
  </div>
  <ngx-spinner
  bdColor="rgba(51,51,51,0.8)"
  size="medium"
  color="#fff"
  type="ball-spin-clockwise-fade"
>
</ngx-spinner>
  
  
  
  
  
  <!-- </mat-dialog-content> -->