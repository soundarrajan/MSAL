<div class="spot-popup-header-container applicable-cost-popup-header">
  <div class="spot-nego-title">Applicable Location Costs- Rotterdam </div>
  <div class="spot-dialog-title-right popup-header-form">
    <mat-checkbox class="checkbox-alignment"></mat-checkbox>

    <div class="check-text">Duplicate Costs to: </div>
    <div [matMenuTriggerFor]="clickmenu" #menuTrigger="matMenuTrigger" class="vessels_req">
      All Vessels <span class="down-arrow"></span>
    </div>
    <mat-menu #clickmenu="matMenu" class="more-options-menu-panel menu-panel-requestOptions" xPosition="after"
      style="position: relative;bottom: 15px;left: 66px;min-height: unset !important;">
      <div (click)="$event.stopPropagation()">
        <div class="more-options-menu-inv no-border p-lr-0">
          <div class="checkboxOptions" *ngFor="let item of requestOptions">
            <mat-checkbox [disabled]="item.selected==false" [checked]="item.selected">{{item.request}} - {{item.vessel}}
            </mat-checkbox>
          </div>
        </div>
      </div>
    </mat-menu>
    <button mat-button [ngClass]="{'save-btn': !enableSave, 'mid-blue-button': enableSave }"
        (click)="saveLocationAdditionalCosts();">Save</button>
    <div class="title-divider">|</div>
    <div class="close-circle" style="padding:0px;">
      <mat-icon id="dialogCloseButton" matSuffix class="" (click)="closeDialog() "
        style="font-size: 14px; display: inline;">close</mat-icon>
    </div>
  </div>
</div>
<hr class="hr-line">
<div class="product-terms p-b-5 p-r-15 p-l-15">
  <div class="operations-details-block">
    <table>
      <thead>
        <tr>
          <th class="increment-circle-button" style="width: 30px;" (click)="addNew()">
            <div class="increment-circle">
              <div class="plus">+</div>
            </div>
          </th>
          <th class="text-left">Cost Name</th>
          <th class="text-left">Cost Type</th>
          <th class="text-left ">Max Qty</th>
          <th class="text-left">Price</th>
          <th class="text-left">Applicable for</th>
          <th class="text-left">Extra(%)</th>
          <th class="text-left">Extra Amt</th>
          <th class="text-left">Total Amt</th>
          <th class="text-left">Rate/MT</th>
          <!-- <th class=" text-left">Comments</th> -->
        </tr>
      </thead>
    </table>
    <div style="height: 125px; overflow-y: scroll;">
      <table>
        <tbody>
          <tr class="border-bottom" *ngFor="let cost of locationBasedCosts; let j = index">
            <td class="decrement-circle-button" (click)="removeCost(j, cost)" style="width: 30px;">
              <div class="decrement-circle">
                <div class="minus">-</div>
              </div>
            </td>
            <td class="text-left cell-dashed-border" contenteditable="true">
              <mat-form-field class="without-search spot-dropdown-component" appearance="none">
                <mat-select [ngModel]="cost.locationAdditionalCostId"
                  (ngModelChange)="cost.locationAdditionalCostId = $event;
                      onCostSelectionChange($event, j)"
                  [disableOptionCentering]="true"
                  panelClass="spot-select-panel-container">
                  <mat-option *ngFor="let locationCost of locationCosts" [value]="locationCost.id">
                    {{ locationCost.costDescription }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </td>
            <td class="">{{cost.costType}}</td>
            <td>
              <div class="non-editable-container">
                <div class="non-editable-container-text-left">
                  {{ cost.maxQuantity? cost.maxQuantity : ' ' }}
                </div>
                <div class="non-editable-container-text-right">
                  {{ cost.maxQuantityUom ? cost.maxQuantityUom : '' }}
                </div>
              </div>
            </td>
            <td>
              <div class="non-editable-container">
                <div class="non-editable-container-text-left">
                  {{ cost.price? cost.price : ' ' }}
                </div>
                <div class="non-editable-container-text-right">
                  {{ cost.currency? cost.currency : '' }}
                </div>
              </div>
            </td>
            <td class="text-left cell-dashed-border" contenteditable="true">
              <mat-form-field class="without-search spot-dropdown-component" appearance="none">
                <mat-select [ngModel]="cost.selectedApplicableForId"
                  (ngModelChange)="cost.selectedApplicableForId = $event;
                    onApplicableForChange($event, j)"
                    [disableOptionCentering]="true"
                    panelClass="spot-select-panel-container">
                  <mat-option *ngFor="let applicableFor of applicableForItems" [value]="applicableFor.id">
                    {{ applicableFor.name }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </td>
            <td class="text-left"> {{cost.extras}}</td>
            <td>
              <div class="non-editable-container">
                <div class="non-editable-container-text-left">
                  {{ cost.extraAmount? cost.extraAmount : ' ' }}
                </div>
                <div class="non-editable-container-text-right">
                  {{ cost.currency? cost.currency : '' }}
                </div>
              </div>
            </td>
            <td>
              <div class="non-editable-container">
                <div class="non-editable-container-text-left">
                  {{ cost.totalAmount? cost.totalAmount : ' ' }}
                </div>
                <div class="non-editable-container-text-right">
                  {{ cost.currency? cost.currency : '' }}
                </div>
              </div>
            </td>
            <td class="text-left">{{cost.ratePerUom}} </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<ngx-spinner
  bdColor="rgba(51,51,51,0.8)"
  size="medium"
  color="#fff"
  type="ball-spin-clockwise-fade"
>
</ngx-spinner>
