<div class="spot-nego-new-comments">
  <div class="grid-in-accordion">
    <mat-expansion-panel [expanded]="false">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <div class="accordion-detail">
            <div class="open-close-arrow"></div>
            <span class="panel-title m-l-9">
              <span>Notes:</span>
              <span>
                {{ requestInfo?.name }} -
                {{ requestInfo?.vesselName }}
              </span>
            </span>
            <div class="comments-type" (click)="$event.stopPropagation()">
              <span class="circle internal"></span>
              <span class="label internal">Internal Comments</span>
              <span class="circle external"></span>
              <span class="label external">External Comments</span>
              <span
                class="copy-btn"
                matTooltip="Duplicate Comments"
                matTooltipClass="blueTooltip"
                >copy</span
              >
            </div>
          </div>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <ng-template matExpansionPanelContent>
        <div class="row" style="padding: 0px 4px;">
          <div
            class="col-md-3 spot-comments-section"
            style="padding: unset !important;"
          >
            <div class="new-comments">
              <div style="padding: 15px;">
                <span class="circle internal"></span
                ><span class="label">General</span>
                <span
                  class="edit-icon"
                  (click)="editNegotiationGeneralComment()"
                ></span>
              </div>
              <div class="comments-div">
                <textarea
                  [readonly]="!editableGeneralComment"
                  #generalComment
                  class="comments-text"
                  [(ngModel)]="requestInfo.negoGeneralComments"
                  placeholder="Type notes here.."
                  maxlength="1000"
                ></textarea>
                <div class="char-left">
                  {{ 1000 - requestInfo?.negoGeneralComments?.length }}
                  characters left
                </div>
              </div>
            </div>
          </div>
          <div
            class="col-md-3 spot-comments-section"
            style="padding: unset !important;border-right: 5px solid #364150;"
          >
            <div class="new-comments">
              <div style="padding: 15px;">
                <span class="circle internal"></span
                ><span class="label">Performance</span>
                <span
                  class="edit-icon"
                  (click)="editPerformanceComment()"
                ></span>
              </div>
              <div class="comments-div">
                <textarea
                  [readonly]="!editablePerformanceComment"
                  #performanceComment
                  class="comments-text"
                  [(ngModel)]="requestInfo.negoPerformanceComments"
                  placeholder="Type notes here.."
                  maxlength="1000"
                ></textarea>
                <div class="char-left">
                  {{ 1000 - requestInfo?.negoPerformanceComments?.length }}
                  characters left
                </div>
              </div>
            </div>
          </div>
          <div
            class="col-md-3 spot-comments-section"
            style="padding: unset !important;"
          >
            <div class="new-comments">
              <div style="padding: 15px;">
                <span class="circle external"></span
                ><span class="label">Supply</span>
                <span class="edit-icon" (click)="editSupplyComments()"></span>
              </div>
              <div class="comments-div">
                <textarea
                  [readonly]="!editableSupplyComment"
                  #supplyComment
                  class="comments-text"
                  [(ngModel)]="requestInfo.negoSupplierComments"
                  placeholder="Type notes here.."
                  maxlength="1000"
                ></textarea>
                <div class="char-left">
                  {{ 1000 - requestInfo?.negoSupplierComments?.length }}
                  characters left
                </div>
              </div>
            </div>
          </div>
          <div
            class="col-md-3 spot-comments-section"
            style="padding: unset !important;"
          >
            <div class="new-comments">
              <div style="padding: 15px;">
                <span class="circle external"></span
                ><span class="label">Vessel & Agents</span>
                <span
                  class="edit-icon"
                  (click)="editvesselAndAgentCommentBox()"
                ></span>
              </div>
              <div class="comments-div">
                <textarea
                  [readonly]="!editableVesselAndAgentComment"
                  #vesselAndAgentComment
                  class="comments-text"
                  [(ngModel)]="requestInfo.negoVesselAgentComments"
                  placeholder="Type notes here.."
                  maxlength="1000"
                ></textarea>
                <div class="char-left">
                  {{ 1000 - requestInfo?.negoVesselAgentComments?.length }}
                  characters left
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="inner-accordion">
          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <div class="accordion-detail">
                  <div class="open-close-arrow"></div>
                  <span class="panel-title m-l-9">
                    <span>Comments from Request</span>
                  </span>
                </div>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <ng-template matExpansionPanelContent>
              <div class="row" style="padding: 4px;">
                <div
                  class="col-md-3 spot-comments-section2"
                  style="padding: unset !important; border-right: 5px solid #BEBEBE;"
                >
                  <div class="new-comments" style="margin: 0px 14px;">
                    <div style="padding: 15px;">
                      <span class="circle internal"></span
                      ><span class="label">General</span>
                    </div>
                    <div style="padding: 0px 20px;">
                      <span class="comments-text">
                        {{ requestInfo?.comments | htmlDecodeReadonly }}
                      </span>
                    </div>
                  </div>
                </div>
                <div
                  class="col-md-3 spot-comments-section2"
                  style="padding: unset !important; border-right: 5px solid #BEBEBE; border-right: 5px solid #364150;"
                ></div>
                <div
                  class="col-md-3 spot-comments-section2"
                  style="padding: unset !important;  border-right: 5px solid #BEBEBE;"
                >
                  <div class="new-comments" style="margin: 0px 14px;">
                    <div style="padding: 15px;">
                      <span class="circle external"></span
                      ><span class="label">Supply</span>
                    </div>
                    <div style="padding: 0px 20px;">
                      <span class="comments-text">
                        {{ requestInfo?.supplierComments | htmlDecodeReadonly }}
                      </span>
                    </div>
                  </div>
                </div>
                <div
                  class="col-md-3 spot-comments-section2"
                  style="padding: unset !important;"
                >
                  <div class="new-comments" style="margin: 0px 14px;">
                    <div style="padding: 15px;">
                      <span class="circle external"></span
                      ><span class="label">Vessel & Agents</span>
                    </div>
                    <div style="padding: 0px 20px;">
                      <span class="comments-text">
                        {{
                          requestInfo?.vesselAgentComments | htmlDecodeReadonly
                        }}
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </mat-expansion-panel>
        </div>
      </ng-template>
    </mat-expansion-panel>
  </div>
</div>
