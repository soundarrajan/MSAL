<div class="contract-nego-content offer-chat">
    <div class="grid-in-accordion">
      <div>
        <mat-expansion-panel [expanded]="true">
          <mat-expansion-panel-header>
            <mat-panel-title>
                <div class="details-table-header">
                    <div class="accordion-detail">
                    <div class="panel-title">
                        <div>Offer Chat</div>
                    </div>
                    </div>
                    <div class="expand d-none">
                        <div class="expand-icon"></div>
                        <div>Expand</div>
                    </div>
                <div class="open-close-arrow"></div>
                </div>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <ng-template matExpansionPanelContent>
            <div style="height: 100%;width:100%;overflow-x:auto;" class="aggrid-container">
              <div appResizable style="position: relative;width: 100%;">
                <div class="grid-content" [style.width.px]="fullHeaderWidth">
                  <div class="grid-container">
                    <div style="margin:0px">
                      <div style="width:100%;height: 100%;">
                        <div class="chat-container">
                          <div class="chat-content" #scrollBottom [scrollTop]="scrollBottom.scrollHeight">
                            <ng-container *ngFor="let data of chatObj;let i = index">
                            <div class="chat-message" [ngClass]="{'received':data.type=='received','sent':data.type=='sent','edit':editChatIndex==i && contenteditable}">
                              <div class="name-label">{{data.label}}</div>
                              <div class="chat-details">
                                <div class="header">
                                    <div class="name">{{data.UserName}}</div>
                                    <div class="date">{{data.CreatedOn}}<span class="arrow" *ngIf="data.type=='sent'" [matMenuTriggerFor]="clickmenupopup" #menuTrigger="matMenuTrigger" (menuOpened)="clickChat(i);"></span></div>
                                </div>
                                <div class="msg-block">
                                <div class="message" [attr.contenteditable]="contenteditable">{{data.Message}}</div>
                                <div class="edit-save" (click)="editSave()"></div>
                              </div>
                              </div>
                            </div>
                            <mat-menu #clickmenupopup="matMenu" class="menu-panel-chat small-menu darkPanel">
                              <div class="p-tb-5" style="display:flex;align-items:center;" (click)="editChat()">
                                  <span>
                                      <div class="edit-icon icon"></div>
                                  </span>
                                  <span class="fs-12">Edit</span>
                              </div>
                              <hr class="menu-divider-line">
                              <div class="p-tb-5" (click)="deleteChat()"
                                  style="display:flex;align-items:center;">
                                  <span>
                                      <div class="delete-icon icon"></div>
                                  </span>
                                  <span class="fs-12">Delete</span>
                              </div>
                          
                          </mat-menu>
                          </ng-container>
                          </div>
                          <div class="chat-box">
                            <div class="type-chat"><textarea [(ngModel)]="chatValue"></textarea></div>
                            <div class="send-button" (click)="sendChat()"></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ng-template>
        </mat-expansion-panel>
      </div>
  
    </div>
  </div>
  