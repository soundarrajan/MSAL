import { DOCUMENT } from '@angular/common';
import { Component, ElementRef, Inject, OnInit, ViewChild } from '@angular/core';
import { FormControl } from '@angular/forms';
import { GridOptions } from 'ag-grid-community';
import { CustomHeaderGroupNotify } from 'src/app/shared/ag-grid/custom-header-group-notification.component';
import { ShiptechCustomHeaderGroup } from 'src/app/shared/ag-grid/shiptech-custom-header-group';
import { AGGridCellActionsComponent } from 'src/app/shared/designsystem-v2/ag-grid/ag-grid-cell-actions.component';
import { AGGridCellRendererV2Component } from 'src/app/shared/designsystem-v2/ag-grid/ag-grid-cell-rendererv2.component';

@Component({
  selector: 'app-spot-negotiation-details',
  templateUrl: './spot-negotiation-details.component.html',
  styleUrls: ['./spot-negotiation-details.component.css']
})
export class SpotNegotiationDetailsComponent implements OnInit {
  @ViewChild('inputSection') inputSection: ElementRef;
  today = new FormControl(new Date());
  public location1 = "location1";
  public gridOptions_counterparty: GridOptions;
  public gridOptions_details: GridOptions;
  public rowSelection;
  public rowCount:Number;
  public counterpartyHeaderWidth;
  public expandGridHeaderWidth;
  public totalOfferHeaderWidth;
  public fullHeaderWidth;
  public frameworkComponents;
  private context: any;
  public grid1Width = {
    width: '100%'
  }
  menuOptions = [{label:'ETA'},{label:'ETB'},{label:'ETD'}];
  // public grid2Width = {
  //   width: '50%'
  // }
  ngOnInit(): void {
    
  }

//   ngAfterViewInit() {
//     setTimeout(()=>{ 
//         this.inputSection.nativeElement.focus();
//       },3000);  
// }

  constructor(@Inject(DOCUMENT) private _document: HTMLDocument) { 
    this.context = {componentParent: this};
    this.rowSelection = 'single';
    this.gridOptions_counterparty = <GridOptions>{
      enableColResize: true,
      defaultColDef: {
        resizable: true,
        filter: true,
        sortable: false
      },
      columnDefs: this.columnDef_aggrid,
      suppressCellSelection: true,
      headerHeight: 30,
      groupHeaderHeight: 80,
      rowHeight: 35,
      animateRows: false,
      onFirstDataRendered(params) {
        params.api.sizeColumnsToFit();
      },
      rowSelection: 'single',
      onGridReady: (params) => {
        this.gridOptions_counterparty.api = params.api;
        this.gridOptions_counterparty.columnApi = params.columnApi;
       this.gridOptions_counterparty.api.setRowData(this.rowData_aggrid);
        this.gridOptions_counterparty.api.sizeColumnsToFit();  
        this.rowCount = this.gridOptions_counterparty.api.getDisplayedRowCount();
        params.api.sizeColumnsToFit();     
        this.counterpartyHeaderWidth = (params.columnApi.getColumn("check").getActualWidth() +
                params.columnApi.getColumn("name").getActualWidth()+
                params.columnApi.getColumn("genRating").getActualWidth()+
                params.columnApi.getColumn("portRating").getActualWidth()+
                params.columnApi.getColumn("phySupplier").getActualWidth());
        this.expandGridHeaderWidth = (
                params.columnApi.getColumn("check1").getActualWidth()+
                params.columnApi.getColumn("offPrice").getActualWidth()+
                params.columnApi.getColumn("tPr").getActualWidth()+
                params.columnApi.getColumn("diff").getActualWidth()+
                //params.columnApi.getColumn("mj").getActualWidth()+
                //params.columnApi.getColumn("tco").getActualWidth()+
                //params.columnApi.getColumn("ediff").getActualWidth()+
                params.columnApi.getColumn("amt").getActualWidth());
      this.totalOfferHeaderWidth = params.columnApi.getColumn("totalOffer").getActualWidth();

        },
      
      onColumnResized: function (params) {
        //params.api.sizeColumnsToFit();
        //alert("");
        //this.resizeGrid();
        // if (params.columnApi.getAllDisplayedColumns().length <= 8 && params.type === 'columnResized' && params.finished === true && params.source === 'uiColumnDragged') {
        //   //params.api.sizeColumnsToFit();
        // }
      },
      onColumnVisible: function (params) {
        if (params.columnApi.getAllDisplayedColumns().length <= 8) {
          params.api.sizeColumnsToFit();

        }
        params.api.sizeColumnsToFit();
      },
     frameworkComponents : {
        customHeaderGroupComponent: ShiptechCustomHeaderGroup,
      },
    }
    // this.gridOptions_details = <GridOptions>{
    //   enableColResize: true,
    //   defaultColDef: {
    //     resizable: true,
    //     filtering: false,
    //     sortable: false
    //   },
    //   columnDefs: this.columnDef_details,
    //   suppressCellSelection: true,
    //   headerHeight: 30,
    //   rowHeight: 35,
    //   animateRows: false,
    //   onFirstDataRendered(params) {
    //     params.api.sizeColumnsToFit();
    //   },
    //   rowSelection: 'single',
    //   onGridReady: (params) => {
    //     this.gridOptions_details.api = params.api;
    //     this.gridOptions_details.columnApi = params.columnApi;
    //    this.gridOptions_details.api.setRowData(this.rowData_details);
    //     this.gridOptions_details.api.sizeColumnsToFit();  
    //     this.rowCount = this.gridOptions_details.api.getDisplayedRowCount();
    //     params.api.sizeColumnsToFit();     
    //     //this.gridOptions_counterparty.api.forEachNode(node=> node.rowIndex ? 0 : node.setSelected(true))

    //   },
      
    //   onColumnResized: function (params) {
    //     if (params.columnApi.getAllDisplayedColumns().length <= 8 && params.type === 'columnResized' && params.finished === true && params.source === 'uiColumnDragged') {
    //       //params.api.sizeColumnsToFit();
    //     }
    //   },
    //   onColumnVisible: function (params) {
    //     if (params.columnApi.getAllDisplayedColumns().length <= 8) {
    //       params.api.sizeColumnsToFit();

    //     }
    //   }
    // }

  }
  private columnDef_aggrid = [
    {
      headerName: 'counterparty',
      headerTooltip:'',        
      resizable:false,
      marryChildren: true,
      headerGroupComponent: 'customHeaderGroupComponent',
      headerGroupComponentParams : {
        type: 'plain-header',
      },
      children: [ 
    {
      headerName: '',
      field: 'check',
      filter: true,
      suppressMenu: true,
      width: 35,
      headerCheckboxSelection: true,
      checkboxSelection: true,
      resizable: false,
      suppressMovable: true,
      headerClass: 'header-checkbox-center checkbox-center ag-checkbox-v2',
      cellClass: 'p-1 checkbox-center ag-checkbox-v2 remove-option',
      cellRendererFramework: AGGridCellActionsComponent, cellRendererParams: { type: 'row-remove-icon' }
      //pinned: 'left'
    },
    {
       headerName: 'Name', headerTooltip: 'Name', field: 'name',width:400,cellClass:'hoverCell',headerClass:'m-l-7',
       cellRendererFramework: AGGridCellRendererV2Component, cellRendererParams: { label:'hover-cell-lookup', type: 'hover-cell-lookup',cellClass:'' }
     },
     {
       headerName: 'Gen. Rating', headerTooltip: 'Gen. Rating', field: 'genRating',  width:200,cellClass:'aggridtextalign-center',
       cellRendererFramework: AGGridCellRendererV2Component, cellRendererParams: { label:'gen-rating', type: 'rating-chip',cellClass:'rating-chip' }
     },
     {
       headerName: 'Port Rating', headerTooltip: 'Port Rating', field: 'portRating',  width:200,cellClass:'aggridtextalign-center',
       cellRendererFramework: AGGridCellRendererV2Component, cellRendererParams: { label:'port-rating',type: 'rating-chip',cellClass:'rating-chip' }
     },
     {
       headerName: 'Phy. Supplier', headerTooltip: 'Phy. Supplier', headerClass:'border-right',field: 'phySupplier',width:200, cellClass: 'line-seperator',
       cellRendererFramework: AGGridCellRendererV2Component, cellRendererParams: { type: 'phy-supplier'}
     },
    ]},
    {
      headerName: '',
      headerTooltip:'',        
      resizable:false,
      marryChildren: true,
      headerGroupComponent: 'customHeaderGroupComponent',
      headerGroupComponentParams : {
        type: 'single-bg-header',
      },
      children: [ 
    {
      headerName: '', headerTooltip: '', field: 'totalOffer',  
      tooltipField: '',width:150, headerClass:'border-right', cellClass: 'line-seperator'
    }]
    },
     {
     headerName: '',
     headerTooltip:'',
     headerGroupComponent: 'customHeaderGroupComponent',
      headerGroupComponentParams : {
        type: 'bg-header',
      },        
     marryChildren: true,
     resizable:false,
     name:'grid1',
     groupId: 'grid1',
    
     children: [ 
     
    {
      headerName: '',
      field: 'check1',
      filter: true,
      suppressMenu: true,
      width: 35,
      //headerCheckboxSelection: true,
      checkboxSelection: true,
      resizable: false,
      suppressMovable: true,
      headerClass: 'header-checkbox-center checkbox-center ag-checkbox-v2',
      cellClass: 'p-1 checkbox-center ag-checkbox-v2',
      //pinned: 'left'
    },
    {
      headerName: 'Offer price', headerTooltip: 'Offer price', field: 'offPrice',width:260,cellClass:'hoverCell',
      cellRendererFramework: AGGridCellRendererV2Component, cellRendererParams: { label:'price-calc', type: 'price-calc',cellClass:'' }
     },
     {
      headerName: 'T.Pr.($)', headerTooltip: 'T.Pr.($)', field: 'tPr',width:150,
      cellRendererFramework: AGGridCellRendererV2Component, cellRendererParams: { type: 'addTpr',cellClass:'' }
     },
     {
      headerName: 'Amt ($)', headerTooltip: 'Amt ($)', field: 'amt',width:150
     },
     {
      headerName: 'Tar. diff', headerTooltip: 'Tar. diff', field: 'diff',width:150, headerClass:'border-right',cellClass: 'line-seperator'
     },
     {
      headerName: 'MJ/KJ', headerTooltip: 'MJ/KJ', field: 'mj',width:150,columnGroupShow: 'open',
     },
     {
      headerName: 'TCO ($)', headerTooltip: 'TCO ($)', field: 'tco',width:150,columnGroupShow: 'open',
     },
     {
      headerName: 'E. diff', headerTooltip: 'E. diff', field: 'ediff',width:150,columnGroupShow: 'open', headerClass:'border-right',cellClass: 'line-seperator'
     },
    ]},
    {
      headerName: '',
      headerTooltip:'',
      headerGroupComponent: 'customHeaderGroupComponent',
      headerGroupComponentParams : {
        type: 'bg-header',
      },           
      marryChildren: true,
      resizable:false,
      name:'grid2',
      groupId: 'grid2',
     
      children: [ 
      
     {
       headerName: '',
       field: 'check1',
       filter: true,
       suppressMenu: true,
       width: 35,
       //headerCheckboxSelection: true,
       checkboxSelection: true,
       resizable: false,
       suppressMovable: true,
       headerClass: 'header-checkbox-center checkbox-center ag-checkbox-v2',
       cellClass: 'p-1 checkbox-center ag-checkbox-v2',
       //pinned: 'left'
     },
     {
      headerName: 'Offer price', headerTooltip: 'Offer price', field: 'offPrice',width:260,cellClass:'hoverCell',
      cellRendererFramework: AGGridCellRendererV2Component, cellRendererParams: { label:'price-calc', type: 'price-calc',cellClass:'' }
     },
      {
       headerName: 'T.Pr.($)', headerTooltip: 'T.Pr.($)', field: 'tPr',width:150
      },
      {
       headerName: 'Amt ($)', headerTooltip: 'Amt ($)', field: 'amt',width:150
      },
      {
       headerName: 'Tar. diff', headerTooltip: 'Tar. diff', field: 'diff',width:150,headerClass:'border-right',cellClass: 'line-seperator'
      },
      {
       headerName: 'MJ/KJ', headerTooltip: 'MJ/KJ', field: 'mj1',width:150,columnGroupShow: 'open',
      },
      {
       headerName: 'TCO ($)', headerTooltip: 'TCO ($)', field: 'tco1',width:150,columnGroupShow: 'open',
      },
      {
       headerName: 'E. diff', headerTooltip: 'E. diff', field: 'ediff1',width:150,columnGroupShow: 'open', headerClass:'border-right',cellClass: 'line-seperator'
      },
     ]},
     {
      headerName: '',
      headerTooltip:'',
      headerGroupComponent: 'customHeaderGroupComponent',
      headerGroupComponentParams : {
        type: 'bg-header',
      },           
      marryChildren: true,
      resizable:false,
      name:'grid3',
      groupId: 'grid3',
      children: [ 
      
     {
       headerName: '',
       field: 'check1',
       filter: true,
       suppressMenu: true,
       width: 35,
       //headerCheckboxSelection: true,
       checkboxSelection: true,
       resizable: false,
       suppressMovable: true,
       headerClass: 'header-checkbox-center checkbox-center ag-checkbox-v2',
       cellClass: 'p-1 checkbox-center ag-checkbox-v2',
       //pinned: 'left'
     },
     {
      headerName: 'Offer price', headerTooltip: 'Offer price', field: 'offPrice',width:260,cellClass:'hoverCell',
      cellRendererFramework: AGGridCellRendererV2Component, cellRendererParams: { label:'price-calc', type: 'price-calc',cellClass:'' }
     },
      {
       headerName: 'T.Pr.($)', headerTooltip: 'T.Pr.($)', field: 'tPr',width:150
      },
      {
       headerName: 'Amt ($)', headerTooltip: 'Amt ($)', field: 'amt',width:150
      },
      {
       headerName: 'Tar. diff', headerTooltip: 'Tar. diff', field: 'diff',width:150,headerClass:'border-right',cellClass: 'line-seperator'
      },
      {
       headerName: 'MJ/KJ', headerTooltip: 'MJ/KJ', field: 'mj1',width:150,columnGroupShow: 'open',
      },
      {
       headerName: 'TCO ($)', headerTooltip: 'TCO ($)', field: 'tco1',width:150,columnGroupShow: 'open',
      },
      {
       headerName: 'E. diff', headerTooltip: 'E. diff', field: 'ediff2',width:150,columnGroupShow: 'open', headerClass:'border-right',cellClass: 'line-seperator'
      },
     ]},
  
     
     
   ];
  //  private columnDef_details = [
  //   {
  //     headerName: '', headerTooltip: '', field: 'totalOffer',  tooltipField: '',width:150,pinned: 'left'
  //   },
  //   {
  //     headerName: '',
  //     field: '',
  //     filter: true,
  //     suppressMenu: true,
  //     width: 35,
  //     //headerCheckboxSelection: true,
  //     checkboxSelection: true,
  //     resizable: false,
  //     suppressMovable: true,
  //     headerClass: 'header-checkbox-center checkbox-center ag-checkbox-v2',
  //     cellClass: 'p-1 checkbox-center ag-checkbox-v2',
  //     pinned: 'left'
  //   },
  //   {
  //     headerName: 'Offer price', headerTooltip: 'Offer price', field: 'offPrice',width:150
  //    },
  //    {
  //     headerName: 'T.Pr.($)', headerTooltip: 'T.Pr.($)', field: 'tPr',width:150
  //    },
  //    {
  //     headerName: 'Amt ($)', headerTooltip: 'Amt ($)', field: 'amt',width:150
  //    },
  //    {
  //     headerName: 'Tar. diff', headerTooltip: 'Tar. diff', field: 'diff',width:150
  //    },
     
     
  //  ];
 
   public rowData_aggrid = [
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'Yes'},
     {name:'Mitsui & co petroleum',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'Yes'},
     {name:'Phillip 66',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'Yes'},
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'No'},
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'No'},
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'No'},
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'No'},
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'No', commentIcon:'No'},
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'No'},
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'No'},
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'No'},
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'No'},
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'No'},
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'No'},
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'No'},
     {name:'Total Marine Fuel',genRating:'4.2',genPrice:'$9.4',portRating:'4.2',portPrice:'$9.8',phySupplier:'Add P. supplier',totalOffer:'-',offPrice:'-',tPr:'-',amt:'-',diff:'-',check:'',check1:'',mj:'41',mj1:'41',tco:'4,48,152.00',ediff:'1.19',tco1:'4,48,152.00',ediff1:'1.19',infoIcon:'No'},
   ]
  //  public rowData_details = [
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'2',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'3',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
  //   {offPrice:'-',tPr:'-',amt:'-',diff:'-',totalOffer:'-'},
    
  // ]

  // delete(){
  //   let rowData = [];
  //       // this.gridOptions_counterparty.api.forEachNode(node => rowData.push(node.data));
  //       // let indexb = this.gridOptions_counterparty.api.node.rowIndex;
  //       this.gridOptions_counterparty.api.forEachNode(node => rowData.push(node.data));
  //       let index = 1;
  //       let newData = [];
  //       newData = rowData.splice(index, 1);
  //       this.gridOptions_counterparty.api.applyTransaction({ remove: newData });

  //       let rowData1 = [];
  //       this.gridOptions_details.api.forEachNode(node => rowData1.push(node.data));
  //       let index1 = 1;
  //       let newData1 = [];
  //       newData1 = rowData1.splice(index1, 1);
  //       this.gridOptions_details.api.applyTransaction({ remove: newData1 });
  // }
  resizeGrid(){
  //   this._document.querySelectorAll('.resizeIcons').forEach(function(el) {
  //     el.classList.toggle('expand');
  //  });
    // setTimeout(()=>{ 
    // this.gridOptions_counterparty.api.sizeColumnsToFit();
    //  },10);  
    //setTimeout(()=>{ 
      //         this.inputSection.nativeElement.focus();
      //       },3000);  
    //alert("");
    //console.log(this.gridOptions_counterparty.columnApi);
    // var columnDefs = this.columnDef_aggrid;
    // columnDefs.forEach(function (colDef) {
    //   console.log(colDef);
    //   if (colDef.field === 'mj') {
    //     //colDef.hide = false;
    //     //this.gridOptions_counterparty.columnApi.setColumnVisible('mj',true);
    //   }
    // });
    // this.gridOptions_counterparty.api.setColumnDefs(columnDefs);

    // const group = this.gridOptions_counterparty.columnApi.getColumnGroup('grid1');
    // console.log(group);
    // let children = group.getChildren();
    // console.log(children);
    // children.forEach((child) =>{
      
    //   this.gridOptions_counterparty.columnApi.setColumnVisible('mj',true);
    // });

    // const group1 = this.gridOptions_counterparty.columnApi.getColumnGroup('grid2');
    // console.log(group);
    // let children1 = group1.getChildren();
    // console.log(children1);
    // children1.forEach((child) =>{
      
    //   this.gridOptions_counterparty.columnApi.setColumnVisible('mj',true);
    // });

    // for (let idx = 0; idx < children.length; idx++) {
    //   this.gridOptions_counterparty.columnApi.setColumnVisible('mj',true);
    // }
    //group.children.forEach(child => this.gridOptions_counterparty.columnApi.setColumnsVisible('mj', false));

    this.gridOptions_counterparty.columnApi.setColumnVisible('mj',true);
    this.gridOptions_counterparty.columnApi.setColumnVisible('mj1',true);
    this.gridOptions_counterparty.columnApi.setColumnVisible('mj2',true);
    this.gridOptions_counterparty.columnApi.setColumnVisible('tco',true);
    this.gridOptions_counterparty.columnApi.setColumnVisible('tco1',true);
    this.gridOptions_counterparty.columnApi.setColumnVisible('tco2',true);
    this.gridOptions_counterparty.columnApi.setColumnVisible('ediff',true);
    this.gridOptions_counterparty.columnApi.setColumnVisible('ediff1',true);
    this.gridOptions_counterparty.columnApi.setColumnVisible('ediff2',true);
    this.expandGridHeaderWidth = 
    (this.gridOptions_counterparty.columnApi.getColumn("check1").getActualWidth()+
    this.gridOptions_counterparty.columnApi.getColumn("offPrice").getActualWidth()+
    this.gridOptions_counterparty.columnApi.getColumn("tPr").getActualWidth()+
    this.gridOptions_counterparty.columnApi.getColumn("diff").getActualWidth()+
      this.gridOptions_counterparty.columnApi.getColumn("mj").getActualWidth()+
      this.gridOptions_counterparty.columnApi.getColumn("tco").getActualWidth()+
      this.gridOptions_counterparty.columnApi.getColumn("ediff").getActualWidth()+
      this.gridOptions_counterparty.columnApi.getColumn("amt").getActualWidth());

      this.counterpartyHeaderWidth = (this.gridOptions_counterparty.columnApi.getColumn("check").getActualWidth() +
      this.gridOptions_counterparty.columnApi.getColumn("name").getActualWidth()+
      this.gridOptions_counterparty.columnApi.getColumn("genRating").getActualWidth()+
      this.gridOptions_counterparty.columnApi.getColumn("portRating").getActualWidth()+
      this.gridOptions_counterparty.columnApi.getColumn("phySupplier").getActualWidth());
                
      
      this.fullHeaderWidth = this.counterpartyHeaderWidth + this.totalOfferHeaderWidth + (this.expandGridHeaderWidth*3) + 7;
  }

}
