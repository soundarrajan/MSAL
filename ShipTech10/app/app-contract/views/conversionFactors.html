<div class="caption" style="margin-top:40px;">
	<h4 class="font-blue-madison ng-binding">
	    Default Conversion Details
	</h4>
    <a style="position: relative;top: -40px;left: 96%;" class="btn btn-default" ng-click="CM.saveConversionFactors(formValues.products[$index].conversionFactors)" ng-disabled="formValues.hasInvoicedOrder">
        Save
    </a>
   
</div>
<div style="position: relative;top: -30px;" class="custom-hardcoded-table ng-scope" ng-init="CM.getAdditionalCostsComponentTypes()">
    <table class="table-body" style="width:100%">
        <thead>
            <tr>
				<td class="padding"><b>Product</b></td>
				<td class="padding"><b>Mass UOM</b></td>
				<td class="padding"><b>Conversion Value</b></td>
				<td class="padding"><b>Volume UOM</b></td>
                <td class="padding"><b>Conversion Factor</b></td>
            </tr>
        </thead>
        <tbody>
        	<tr ng-repeat="(key, value) in formValues.products[$index].conversionFactors " ng-if="!value.isDeleted">
        		<td class="padding">{{value.product.name}}</td>
        		<td class="conversion-table">
        			<select name="Product {{$index}} mass UOM" ng-model="value.massUom" ng-options="item as item.name for item in vm.listsCache.UomMass track by item.id" class="form-control" ng-disabled="value.contractConversionFactorOptions.id == 3 || (formValues.hasInvoicedOrder && value.contractConversionFactorOptions.id == 2)"></select>
        		</td>
        		<td class="conversion-table">
        			<input name="Product {{$index}} conversion value" ng-if="value.contractConversionFactorOptions.id == 2" type="text" class="form-control" ng-model="value.value" ng-disabled="value.contractConversionFactorOptions.id == 3 || (formValues.hasInvoicedOrder && value.contractConversionFactorOptions.id == 2)"  required="required">	
                    <input  name="Product {{$index}} conversion value" ng-if="value.contractConversionFactorOptions.id != 2" type="text" class="form-control" ng-model="value.value" ng-disabled="value.contractConversionFactorOptions.id == 3 || (formValues.hasInvoicedOrder && value.contractConversionFactorOptions.id == 2)">
        		</td>
        		<td class="conversion-table">
        			<select name="Product {{$index}} mass UOM" ng-model="value.volumeUom" ng-options="item as item.name for item in vm.listsCache.UomVolume track by item.id" class="form-control" ng-disabled="value.contractConversionFactorOptions.id == 3 || (formValues.hasInvoicedOrder && value.contractConversionFactorOptions.id == 2)"></select>
        		</td>
                <td class="conversion-table">
                    <select name="Product {{$index}} conversion factor" ng-model="value.contractConversionFactorOptions" ng-options="item as item.name for item in vm.listsCache.ContractConversionFactorOptions track by item.id" class="form-control" required="required"  ng-disabled="(formValues.hasInvoicedOrder || formValues.status.name != 'Draft') && value.contractConversionFactorOptions.id == 2"></select>
                </td>
        	</tr>
        </tbody>
    </table>
</div>