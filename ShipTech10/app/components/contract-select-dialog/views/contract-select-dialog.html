<div class="portlet light">
    <div class="portlet-title">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
        <div class="form-inline pull-right">
            <a href="" class="link-underline-light" ng-click="state.go(STATE.CONTRACT_EVALUATION)"  data-dismiss="modal">Go to Contracts Evaluation</a>

            <div class="form-group" style="margin-right: 15px">
                <a class="btn btn-outline orange" ng-click="$ctrl.confirmContractSelection()" data-dismiss="modal">Select</a>
            </div>
        </div>
        <div class="col-md-6 caption-subject">Select Contract</div>
    </div>
    <div class="portlet-body st-contract-select-dialog" ng-if="$ctrl.refreshedSelectDialog" ng-init="listData = $ctrl.refreshData()" style="overflow: auto;">
        <table class="table table-striped table-hover table-bordered"
                id="contract_select" >
            <thead>
                <tr>
                    <th ng-if="column.caption != 'PAGES.SELECT_CONTRACT.ADD_COST'" id="generatedThId103" ng-repeat="column in $ctrl.ui.contracts.columns">
                        {{column.caption | translate}}
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="row in listData track by $index">
                        <td>
                            <label class="mt-checkbox mt-checkbox-outline">
                                <input type="checkbox" ng-change="$ctrl.toggleSelection($index, row)" ng-model="$ctrl.checkboxes[$index]">
                                <span></span>
                            </label>
                        </td>
                        <td><a href="#/contracts/contract/edit/{{row.id1}}" target="_blank" class="link-underline-light"><!-- Contract  -->{{row.id1}}</a></td>
                        <td>{{row.contractName}}</td>
                        <td><span ng-controller="Controller_Master as CM"> {{CM.formatDateTime(row.validTo , null, 'default')}}</span></td>
                        <td>{{row.fixedPrice | number: (row.pricePrecision ? row.pricePrecision : $ctrl.tenantSettings.defaultValues.pricePrecision) }}</td>
                        <td>{{row.formula}}</td>
                        <td>{{row.seller.name}}</td>
                        <td>{{row.location.name}}</td>
                        <td>{{row.product.name}}</td>
                        <td>{{row.contractedQuantity | number:$ctrl.tenantSettings.defaultValues.quantityPrecision}}</td>
                        <td>{{row.availableQuantity | number:$ctrl.tenantSettings.defaultValues.quantityPrecision}}</td>
                        <td>{{row.status.name}}</td>
                        <td>{{row.minQuantity | number:$ctrl.tenantSettings.defaultValues.quantityPrecision}} - {{row.maxQuantity | number:$ctrl.tenantSettings.defaultValues.quantityPrecision}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>