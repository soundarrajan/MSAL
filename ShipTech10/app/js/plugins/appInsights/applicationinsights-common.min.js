/*!
 * Application Insights JavaScript SDK - Common, 2.2.4
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights={}))}(this,function(g){"use strict";var r,e,t,i;(e=r=r||{})[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage",(t=g.FieldType||(g.FieldType={}))[t.Default=0]="Default",t[t.Required=1]="Required",t[t.Array=2]="Array",t[t.Hidden=4]="Hidden",(i=g.DistributedTracingModes||(g.DistributedTracingModes={}))[i.AI=0]="AI",i[i.AI_AND_W3C=1]="AI_AND_W3C",i[i.W3C=2]="W3C";var n=2,o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function a(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var s=function(){return(s=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},u=(l.isNullOrUndefined=function(e){return null==e},l.disableCookies=function(){l._canUseCookies=!1},l.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(c,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},l);function l(){}var c=/[xy]/g,p=(d.prototype.processTelemetry=function(t){this.channelQueue.forEach(function(e){0<e.length&&e[0].processTelemetry(t)})},Object.defineProperty(d.prototype,"ChannelControls",{get:function(){return this.channelQueue},enumerable:!0,configurable:!0}),d.prototype.initialize=function(i,n,r){var o,a=this;i.isCookieUseDisabled&&u.disableCookies(),this.channelQueue=new Array,i.channels&&i.channels.forEach(function(e){if(e&&0<e.length){e=e.sort(function(e,t){return e.priority-t.priority});for(var t=1;t<e.length;t++)e[t-1].setNextPlugin(e[t]);if(e.forEach(function(e){e.priority<500&&(o=e.identifier),e.initialize(i,n,r)}),o)throw Error("Channel has invalid priority"+o);a.channelQueue.push(e)}});for(var e=new Array,t=0;t<r.length;t++){var s=r[t];500<s.priority&&e.push(s)}if(0<e.length){for(e=e.sort(function(e,t){return e.priority-t.priority}),t=1;t<e.length;t++)e[t-1].setNextPlugin(e[t]);e.forEach(function(e){return e.initialize(i,n,r)}),this.channelQueue.push(e)}},d);function d(){this.identifier="ChannelControllerPlugin",this.priority=500}var f=(h.prototype.initialize=function(e,t,i,n){var r=this;if(this._isInitialized)throw Error("Core should not be initialized more than once");if(!e||u.isNullOrUndefined(e.instrumentationKey))throw Error("Please provide instrumentation key");this.config=e,this._notificationManager=n,this._notificationManager||(this._notificationManager=Object.create({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){}})),this.config.extensions=u.isNullOrUndefined(this.config.extensions)?[]:this.config.extensions,this.config.extensionConfig=u.isNullOrUndefined(this.config.extensionConfig)?{}:this.config.extensionConfig,this._notificationManager&&(this.config.extensionConfig.NotificationManager=this._notificationManager),this.logger=i,this.logger||(this.logger=Object.create({throwInternal:function(e,t,i,n,r){void 0===r&&(r=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}})),(a=this._extensions).push.apply(a,t.concat(this.config.extensions)),this._extensions.forEach(function(e){var t=!0;if((u.isNullOrUndefined(e)||u.isNullOrUndefined(e.initialize))&&(t=!1),!t)throw Error("Extensions must provide callback to initialize")}),this._extensions.push(this._channelController),this._extensions=this._extensions.sort(function(e,t){var i=e,n=t,r=typeof i.processTelemetry,o=typeof n.processTelemetry;return"function"==r&&"function"==o?i.priority-n.priority:"function"==r&&"function"!=o?1:"function"!=r&&"function"==o?-1:void 0});var o={};this._extensions.forEach(function(e){var t=e;t&&t.priority&&(u.isNullOrUndefined(o[t.priority])?o[t.priority]=t.identifier:r.logger&&r.logger.warnToConsole("Two extensions have same priority"+o[t.priority]+", "+t.identifier))});for(var a,s=-1,l=0;l<this._extensions.length-1;l++){var c=this._extensions[l];if(!c||"function"==typeof c.processTelemetry){if(c.priority===this._channelController.priority){s=l+1;break}this._extensions[l].setNextPlugin(this._extensions[l+1])}}if(this._channelController.initialize(this.config,this,this._extensions),this._extensions.forEach(function(e){e&&e.priority<r._channelController.priority&&e.initialize(r.config,r,r._extensions)}),s<this._extensions.length&&this._extensions.splice(s),0===this.getTransmissionControls().length)throw new Error("No channels available");this._isInitialized=!0},h.prototype.getTransmissionControls=function(){return this._channelController.ChannelControls},h.prototype.track=function(e){e.iKey||(e.iKey=this.config.instrumentationKey),e.time||(e.time=(new Date).toISOString()),u.isNullOrUndefined(e.ver)&&(e.ver="4.0"),0===this._extensions.length&&this._channelController.processTelemetry(e);for(var t=0;t<this._extensions.length;){if(this._extensions[t].processTelemetry){this._extensions[t].processTelemetry(e);break}t++}},h);function h(){this._isInitialized=!1,this._extensions=new Array,this._channelController=new p}var m,v,y=(S.prototype.addNotificationListener=function(e){this.listeners.push(e)},S.prototype.removeNotificationListener=function(e){for(var t=this.listeners.indexOf(e);-1<t;)this.listeners.splice(t,1),t=this.listeners.indexOf(e)},S.prototype.eventsSent=function(t){for(var i=this,e=function(e){n.listeners[e].eventsSent&&setTimeout(function(){return i.listeners[e].eventsSent(t)},0)},n=this,r=0;r<this.listeners.length;++r)e(r)},S.prototype.eventsDiscarded=function(t,i){for(var n=this,e=function(e){r.listeners[e].eventsDiscarded&&setTimeout(function(){return n.listeners[e].eventsDiscarded(t,i)},0)},r=this,o=0;o<this.listeners.length;++o)e(o)},S);function S(){this.listeners=[]}(v=m=m||{})[v.CRITICAL=1]="CRITICAL",v[v.WARNING=2]="WARNING";var T=1,I=2,N=3,x=4,_=5,C=6,w=23,D=49,E=52,A=56,b=57,M=61,L=66,F=68,U=69,R=(k.sanitizeDiagnosticText=function(e){return'"'+e.replace(/\"/g,"")+'"'},k.dataType="MessageData",k.AiNonUserActionablePrefix="AI (Internal): ",k.AiUserActionablePrefix="AI: ",k);function k(e,t,i,n){void 0===i&&(i=!1),this.messageId=e,this.message=(i?k.AiUserActionablePrefix:k.AiNonUserActionablePrefix)+e;var r=(t?" message:"+k.sanitizeDiagnosticText(t):"")+(n?" props:"+k.sanitizeDiagnosticText(JSON.stringify(n)):"");this.message+=r}var O=(z.prototype.throwInternal=function(e,t,i,n,r){void 0===r&&(r=!1);var o=new R(t,i,r,n);if(this.enableDebugExceptions())throw o;if(void 0!==o&&o&&void 0!==o.message){if(r){var a=+o.messageId;(!this._messageLogged[a]||this.consoleLoggingLevel()>=m.WARNING)&&(this.warnToConsole(o.message),this._messageLogged[a]=!0)}else this.consoleLoggingLevel()>=m.WARNING&&this.warnToConsole(o.message);this.logInternalMessage(e,o)}},z.prototype.warnToConsole=function(e){"undefined"!=typeof console&&console&&("function"==typeof console.warn?console.warn(e):"function"==typeof console.log&&console.log(e))},z.prototype.resetInternalMessageCount=function(){this._messageCount=0,this._messageLogged={}},z.prototype.logInternalMessage=function(e,t){if(!this._areInternalMessagesThrottled()){var i=!0,n=this.AIInternalMessagePrefix+t.messageId;if(this._messageLogged[n]?i=!1:this._messageLogged[n]=!0,i&&(e<=this.telemetryLoggingLevel()&&(this.queue.push(t),this._messageCount++),this._messageCount===this.maxInternalMessageLimit())){var r="Internal events throttle limit per PageView reached for this app.",o=new R(w,r,!1);this.queue.push(o),this.warnToConsole(r)}}},z.prototype._areInternalMessagesThrottled=function(){return this._messageCount>=this.maxInternalMessageLimit()},z);function z(e){this.queue=[],this.AIInternalMessagePrefix="AITR_",this._messageCount=0,this._messageLogged={},this.enableDebugExceptions=function(){return!1},this.consoleLoggingLevel=function(){return 0},this.telemetryLoggingLevel=function(){return 1},this.maxInternalMessageLimit=function(){return 25},u.isNullOrUndefined(e)||(u.isNullOrUndefined(e.loggingLevelConsole)||(this.consoleLoggingLevel=function(){return e.loggingLevelConsole}),u.isNullOrUndefined(e.loggingLevelTelemetry)||(this.telemetryLoggingLevel=function(){return e.loggingLevelTelemetry}),u.isNullOrUndefined(e.maxMessageLimit)||(this.maxInternalMessageLimit=function(){return e.maxMessageLimit}),u.isNullOrUndefined(e.enableDebugExceptions)||(this.enableDebugExceptions=function(){return e.enableDebugExceptions}))}var P;a(q,P=f),q.prototype.initialize=function(e,t){this._notificationManager=new y,this.logger=new O(e),this.config=e,P.prototype.initialize.call(this,e,t,this.logger,this._notificationManager)},q.prototype.getTransmissionControls=function(){return P.prototype.getTransmissionControls.call(this)},q.prototype.track=function(e){if(null===e)throw this._notifyInvalidEvent(e),Error("Invalid telemetry item");this._validateTelemetryItem(e),P.prototype.track.call(this,e)},q.prototype.addNotificationListener=function(e){this._notificationManager&&this._notificationManager.addNotificationListener(e)},q.prototype.removeNotificationListener=function(e){this._notificationManager&&this._notificationManager.removeNotificationListener(e)},q.prototype.pollInternalLogs=function(i){var n=this,e=this.config.diagnosticLogInterval;return 0<e||(e=1e4),setInterval(function(){var e=n.logger?n.logger.queue:[];e.forEach(function(e){var t={name:i||"InternalMessageId: "+e.messageId,iKey:n.config.instrumentationKey,time:(new Date).toISOString(),baseType:R.dataType,baseData:{message:e.message}};n.track(t)}),e.length=0},e)},q.prototype._validateTelemetryItem=function(e){if(u.isNullOrUndefined(e.name))throw this._notifyInvalidEvent(e),Error("telemetry name required")},q.prototype._notifyInvalidEvent=function(e){this._notificationManager&&this._notificationManager.eventsDiscarded([e],n)};function q(){return P.call(this)||this}var G=(H.requestContextHeader="Request-Context",H.requestContextTargetKey="appId",H.requestContextAppIdFormat="appId=cid-v1:",H.requestIdHeader="Request-Id",H.traceParentHeader="traceparent",H.sdkContextHeader="Sdk-Context",H.sdkContextHeaderAppIdRequest="appId",H.requestContextHeaderLowerCase="request-context",H);function H(){}var j=(V.sanitizeKeyAndAddUniqueness=function(e,t,i){var n=t.length,r=V.sanitizeKey(e,t);if(r.length!==n){for(var o=0,a=r;void 0!==i[a];)o++,a=r.substring(0,V.MAX_NAME_LENGTH-3)+V.padNumber(o);r=a}return r},V.sanitizeKey=function(e,t){var i;return t&&(t=V.trim(t.toString())).length>V.MAX_NAME_LENGTH&&(i=t.substring(0,V.MAX_NAME_LENGTH),e.throwInternal(m.WARNING,b,"name is too long.  It has been truncated to "+V.MAX_NAME_LENGTH+" characters.",{name:t},!0)),i||t},V.sanitizeString=function(e,t,i){var n;return void 0===i&&(i=V.MAX_STRING_LENGTH),t&&(i=i||V.MAX_STRING_LENGTH,(t=V.trim(t)).toString().length>i&&(n=t.toString().substring(0,i),e.throwInternal(m.WARNING,M,"string value is too long. It has been truncated to "+i+" characters.",{value:t},!0))),n||t},V.sanitizeUrl=function(e,t){return V.sanitizeInput(e,t,V.MAX_URL_LENGTH,L)},V.sanitizeMessage=function(e,t){var i;return t&&t.length>V.MAX_MESSAGE_LENGTH&&(i=t.substring(0,V.MAX_MESSAGE_LENGTH),e.throwInternal(m.WARNING,A,"message is too long, it has been truncated to "+V.MAX_MESSAGE_LENGTH+" characters.",{message:t},!0)),i||t},V.sanitizeException=function(e,t){var i;return t&&t.length>V.MAX_EXCEPTION_LENGTH&&(i=t.substring(0,V.MAX_EXCEPTION_LENGTH),e.throwInternal(m.WARNING,E,"exception is too long, it has been truncated to "+V.MAX_EXCEPTION_LENGTH+" characters.",{exception:t},!0)),i||t},V.sanitizeProperties=function(t,e){if(e){var i={};for(var n in e){var r=e[n];if("object"==typeof r&&"undefined"!=typeof JSON)try{r=JSON.stringify(r)}catch(e){t.throwInternal(m.WARNING,D,"custom property is not valid",{exception:e},!0)}r=V.sanitizeString(t,r,V.MAX_PROPERTY_LENGTH),i[n=V.sanitizeKeyAndAddUniqueness(t,n,i)]=r}e=i}return e},V.sanitizeMeasurements=function(e,t){if(t){var i={};for(var n in t){var r=t[n];i[n=V.sanitizeKeyAndAddUniqueness(e,n,i)]=r}t=i}return t},V.sanitizeId=function(e,t){return t?V.sanitizeInput(e,t,V.MAX_ID_LENGTH,U).toString():t},V.sanitizeInput=function(e,t,i,n){var r;return t&&(t=V.trim(t)).length>i&&(r=t.substring(0,i),e.throwInternal(m.WARNING,n,"input is too long, it has been truncated to "+i+" characters.",{data:t},!0)),r||t},V.padNumber=function(e){var t="00"+e;return t.substr(t.length-3)},V.trim=function(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")},V.MAX_NAME_LENGTH=150,V.MAX_ID_LENGTH=128,V.MAX_PROPERTY_LENGTH=8192,V.MAX_STRING_LENGTH=1024,V.MAX_URL_LENGTH=2048,V.MAX_MESSAGE_LENGTH=32768,V.MAX_EXCEPTION_LENGTH=32768,V);function V(){}var B=(X.createDomEvent=function(e){var t=null;return"function"==typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t},X.disableStorage=function(){X._canUseLocalStorage=!1,X._canUseSessionStorage=!1},X._getLocalStorageObject=function(){return X.canUseLocalStorage()?X._getVerifiedStorageObject(r.LocalStorage):null},X._getVerifiedStorageObject=function(e){var t,i,n=null;try{if("undefined"==typeof window)return null;i=new Date,(n=e===r.LocalStorage?window.localStorage:window.sessionStorage).setItem(i.toString(),i.toString()),t=n.getItem(i.toString())!==i.toString(),n.removeItem(i.toString()),t&&(n=null)}catch(e){n=null}return n},X.isInternalApplicationInsightsEndpoint=function(e){return-1!==X._internalEndpoints.indexOf(e.toLowerCase())},X.canUseLocalStorage=function(){return void 0===X._canUseLocalStorage&&(X._canUseLocalStorage=!!X._getVerifiedStorageObject(r.LocalStorage)),X._canUseLocalStorage},X.getStorage=function(t,e){var i=X._getLocalStorageObject();if(null!==i)try{return i.getItem(e)}catch(e){X._canUseLocalStorage=!1,t.throwInternal(m.WARNING,T,"Browser failed read of local storage. "+X.getExceptionName(e),{exception:X.dump(e)})}return null},X.setStorage=function(t,e,i){var n=X._getLocalStorageObject();if(null!==n)try{return n.setItem(e,i),!0}catch(e){X._canUseLocalStorage=!1,t.throwInternal(m.WARNING,N,"Browser failed write to local storage. "+X.getExceptionName(e),{exception:X.dump(e)})}return!1},X.removeStorage=function(t,e){var i=X._getLocalStorageObject();if(null!==i)try{return i.removeItem(e),!0}catch(e){X._canUseLocalStorage=!1,t.throwInternal(m.WARNING,_,"Browser failed removal of local storage item. "+X.getExceptionName(e),{exception:X.dump(e)})}return!1},X._getSessionStorageObject=function(){return X.canUseSessionStorage()?X._getVerifiedStorageObject(r.SessionStorage):null},X.canUseSessionStorage=function(){return void 0===X._canUseSessionStorage&&(X._canUseSessionStorage=!!X._getVerifiedStorageObject(r.SessionStorage)),X._canUseSessionStorage},X.getSessionStorageKeys=function(){var e=[];if(X.canUseSessionStorage())for(var t in window.sessionStorage)e.push(t);return e},X.getSessionStorage=function(t,e){var i=X._getSessionStorageObject();if(null!==i)try{return i.getItem(e)}catch(e){X._canUseSessionStorage=!1,t.throwInternal(m.WARNING,I,"Browser failed read of session storage. "+X.getExceptionName(e),{exception:X.dump(e)})}return null},X.setSessionStorage=function(t,e,i){var n=X._getSessionStorageObject();if(null!==n)try{return n.setItem(e,i),!0}catch(e){X._canUseSessionStorage=!1,t.throwInternal(m.WARNING,x,"Browser failed write to session storage. "+X.getExceptionName(e),{exception:X.dump(e)})}return!1},X.removeSessionStorage=function(t,e){var i=X._getSessionStorageObject();if(null!==i)try{return i.removeItem(e),!0}catch(e){X._canUseSessionStorage=!1,t.throwInternal(m.WARNING,C,"Browser failed removal of session storage item. "+X.getExceptionName(e),{exception:X.dump(e)})}return!1},X.disableCookies=function(){u.disableCookies()},X.canUseCookies=function(t){if(void 0===u._canUseCookies){u._canUseCookies=!1;try{u._canUseCookies=void 0!==X.document.cookie}catch(e){t.throwInternal(m.WARNING,F,"Cannot access document.cookie - "+X.getExceptionName(e),{exception:X.dump(e)})}}return u._canUseCookies},X.setCookie=function(e,t,i,n){var r="",o="";n&&(r=";domain="+n),X.document.location&&"https:"===X.document.location.protocol&&(o=";secure"),X.canUseCookies(e)&&(X.document.cookie=t+"="+i+r+";path=/"+o)},X.stringToBoolOrDefault=function(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()},X.getCookie=function(e,t){if(X.canUseCookies(e)){var i="";if(t&&t.length)for(var n=t+"=",r=X.document.cookie.split(";"),o=0;o<r.length;o++){var a=r[o];if((a=X.trim(a))&&0===a.indexOf(n)){i=a.substring(n.length,r[o].length);break}}return i}},X.deleteCookie=function(e,t){X.canUseCookies(e)&&(X.document.cookie=t+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},X.trim=function(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")},X.newId=function(){for(var e="",t=1073741824*Math.random();0<t;)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t%64),t=Math.floor(t/64);return e},X.random32=function(){return 4294967296*Math.random()|0},X.generateW3CId=function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i="",n=0;n<4;n++)i+=t[15&(e=X.random32())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var r=t[8+4*Math.random()|0];return i.substr(0,8)+i.substr(9,4)+"4"+i.substr(13,3)+r+i.substr(16,3)+i.substr(19,12)},X.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},X.isError=function(e){return"[object Error]"===Object.prototype.toString.call(e)},X.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},X.toISOStringForIE8=function(e){if(X.isDate(e)){if(Date.prototype.toISOString)return e.toISOString();var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}},X.getIEVersion=function(e){void 0===e&&(e=null);var t=e?e.toLowerCase():navigator.userAgent.toLowerCase();return-1!==t.indexOf("msie")?parseInt(t.split("msie")[1]):null},X.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,i=""+Math.floor(e/1e3)%60,n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,o=Math.floor(e/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,i=i.length<2?"0"+i:i,n=n.length<2?"0"+n:n,(0<o?o+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+i+"."+t},X.isCrossOriginError=function(e,t,i,n,r){return("Script error."===e||"Script error"===e)&&!r},X.dump=function(e){var t=Object.prototype.toString.call(e),i=JSON.stringify(e);return"[object Error]"===t&&(i="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'"),t+i},X.getExceptionName=function(e){return"[object Error]"===Object.prototype.toString.call(e)?e.name:""},X.addEventHandler=function(e,t){if("undefined"==typeof window||!window||"string"!=typeof e||"function"!=typeof t)return!1;var i="on"+e;if(window.addEventListener)window.addEventListener(e,t,!1);else{if(!window.attachEvent)return!1;window.attachEvent(i,t)}return!0},X.IsBeaconApiSupported=function(){return"sendBeacon"in navigator&&navigator.sendBeacon},X.getExtension=function(e,t){for(var i=null,n=0;!i&&n<e.length;)e[n]&&e[n].identifier===t&&(i=e[n]),n++;return i},X.document="undefined"!=typeof document?document:{},X._canUseLocalStorage=void 0,X._canUseSessionStorage=void 0,X._internalEndpoints=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],X.NotSpecified="not_specified",X);function X(){}var W=(K.parseUrl=function(e){return K.htmlAnchorElement||(K.htmlAnchorElement=K.document.createElement?K.document.createElement("a"):{host:K.parseHost(e)}),K.htmlAnchorElement.href=e,K.htmlAnchorElement},K.getAbsoluteUrl=function(e){var t,i=K.parseUrl(e);return i&&(t=i.href),t},K.getPathName=function(e){var t,i=K.parseUrl(e);return i&&(t=i.pathname),t},K.getCompleteUrl=function(e,t){return e?e.toUpperCase()+" "+t:t},K.parseHost=function(e){var t=e.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=t&&2<t.length&&"string"==typeof t[2]&&0<t[2].length?t[2]:null},K.document="undefined"!=typeof document?document:{},K);function K(){}var J=(Q.canIncludeCorrelationHeader=function(e,t,i){if(e&&e.disableCorrelationHeaders)return!1;if(!t)return!1;var n=W.parseUrl(t).host.toLowerCase();if(!(e&&e.enableCorsCorrelation||n===i))return!1;var r,o=e&&e.correlationHeaderDomains;if(o&&(o.forEach(function(e){var t=new RegExp(e.toLowerCase().replace(/\./g,".").replace(/\*/g,".*"));r=r||t.test(n)}),!r))return!1;var a=e&&e.correlationHeaderExcludedDomains;if(!a||0===a.length)return!0;for(var s=0;s<a.length;s++)if(new RegExp(a[s].toLowerCase().replace(/\./g,".").replace(/\*/g,".*")).test(n))return!1;return!0},Q.getCorrelationContext=function(e){if(e){var t=Q.getCorrelationContextValue(e,G.requestContextTargetKey);if(t&&t!==Q.correlationIdPrefix)return t}},Q.getCorrelationContextValue=function(e,t){if(e)for(var i=e.split(","),n=0;n<i.length;++n){var r=i[n].split("=");if(2===r.length&&r[0]===t)return r[1]}},Q.correlationIdPrefix="cid-v1:",Q);function Q(){}var Y=($.ParseDependencyPath=function(e,t,i,n){var r,o=n,a=n;if(t&&0<t.length){var s=W.parseUrl(t);if(r=s.host,!o)if(null!=s.pathname){var l=0===s.pathname.length?"/":s.pathname;"/"!==l.charAt(0)&&(l="/"+l),a=s.pathname,o=j.sanitizeString(e,i?i+" "+l:l)}else o=j.sanitizeString(e,t)}else o=r=n;return{target:r,name:o,data:a}},$);function $(){}var Z=(ee.Now="undefined"==typeof window?function(){return(new Date).getTime()}:window.performance&&window.performance.now&&window.performance.timing?function(){return window.performance.now()+window.performance.timing.navigationStart}:function(){return(new Date).getTime()},ee.GetDuration=function(e,t){var i=null;return 0===e||0===t||u.isNullOrUndefined(e)||u.isNullOrUndefined(t)||(i=t-e),i},ee);function ee(){}function te(){}var ie,ne=(a(re,ie=te),re);function re(){return ie.call(this)||this}var oe,ae=(a(se,oe=function(){this.ver=1,this.sampleRate=100,this.tags={}}),se);function se(e,t,i){var n=oe.call(this)||this;return n.name=j.sanitizeString(e,i)||B.NotSpecified,n.data=t,n.time=B.toISOStringForIE8(new Date),n.aiDataContract={time:g.FieldType.Required,iKey:g.FieldType.Required,name:g.FieldType.Required,sampleRate:function(){return 100===n.sampleRate?g.FieldType.Hidden:g.FieldType.Required},tags:g.FieldType.Required,data:g.FieldType.Required},n}function le(){}var ce,ue=(a(pe,ce=le),pe);function pe(){var e=ce.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var de,fe=(a(ge,de=ue),ge.envelopeType="Microsoft.ApplicationInsights.{0}.Event",ge.dataType="EventData",ge);function ge(e,t,i,n){var r=de.call(this)||this;return r.aiDataContract={ver:g.FieldType.Required,name:g.FieldType.Required,properties:g.FieldType.Default,measurements:g.FieldType.Default},r.name=j.sanitizeString(e,t)||B.NotSpecified,r.properties=j.sanitizeProperties(e,i),r.measurements=j.sanitizeMeasurements(e,n),r}function he(){}var me,ve=(a(ye,me=le),ye);function ye(){var e=me.call(this)||this;return e.ver=2,e.exceptions=[],e.properties={},e.measurements={},e}function Se(){this.hasFullStack=!0,this.parsedStack=[]}var Te,Ie=(a(Ne,Te=ve),Ne.CreateFromInterface=function(t,e){var i=e.exceptions&&e.exceptions.map(function(e){return _e.CreateFromInterface(t,e)});return new Ne(t,s({},e,{exceptions:i}))},Ne.prototype.toInterface=function(){var e=this,t=e.exceptions,i=e.properties,n=e.measurements,r=e.severityLevel,o=(e.ver,e.problemGroup),a=e.id,s=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&t.map(function(e){return e.toInterface()})||void 0,severityLevel:r,properties:i,measurements:n,problemGroup:o,id:a,isManual:s}},Ne.CreateSimpleException=function(e,t,i,n,r,o){return{exceptions:[{hasFullStack:!0,message:e,stack:r,typeName:t}]}},Ne.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",Ne.dataType="ExceptionData",Ne);function Ne(e,t,i,n,r,o){var a=Te.call(this)||this;return a.aiDataContract={ver:g.FieldType.Required,exceptions:g.FieldType.Required,severityLevel:g.FieldType.Default,properties:g.FieldType.Default,measurements:g.FieldType.Default},t instanceof Error?(a.exceptions=[new _e(e,t)],a.properties=j.sanitizeProperties(e,i),a.measurements=j.sanitizeMeasurements(e,n),r&&(a.severityLevel=r),o&&(a.id=o)):(a.exceptions=t.exceptions,a.properties=t.properties,a.measurements=t.measurements,t.severityLevel&&(a.severityLevel=t.severityLevel),t.id&&(a.id=t.id),t.problemGroup&&(a.problemGroup=t.problemGroup),a.ver=2,u.isNullOrUndefined(t.isManual)||(a.isManual=t.isManual)),a}var xe,_e=(a(Ce,xe=Se),Ce.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&this.parsedStack.map(function(e){return e.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||void 0}},Ce.CreateFromInterface=function(e,t){var i=t.parsedStack instanceof Array&&t.parsedStack.map(function(e){return De.CreateFromInterface(e)})||t.parsedStack;return new Ce(e,s({},t,{parsedStack:i}))},Ce.parseStack=function(e){var t;if("string"==typeof e){var i=e.split("\n");t=[];for(var n=0,r=0,o=0;o<=i.length;o++){var a=i[o];if(De.regex.test(a)){var s=new De(i[o],n++);r+=s.sizeInBytes,t.push(s)}}if(32768<r)for(var l=0,c=t.length-1,u=0,p=l,d=c;l<c;){if(32768<(u+=t[l].sizeInBytes+t[c].sizeInBytes)){var f=d-p+1;t.splice(p,f);break}p=l,d=c,l++,c--}}return t},Ce);function Ce(e,t){var i=xe.call(this)||this;if(i.aiDataContract={id:g.FieldType.Default,outerId:g.FieldType.Default,typeName:g.FieldType.Required,message:g.FieldType.Required,hasFullStack:g.FieldType.Default,stack:g.FieldType.Default,parsedStack:g.FieldType.Array},t instanceof Error){i.typeName=j.sanitizeString(e,t.name)||B.NotSpecified,i.message=j.sanitizeMessage(e,t.message)||B.NotSpecified;var n=t.stack;i.parsedStack=Ce.parseStack(n),i.stack=j.sanitizeException(e,n),i.hasFullStack=B.isArray(i.parsedStack)&&0<i.parsedStack.length}else i.typeName=t.typeName,i.message=t.message,i.stack=t.stack,i.parsedStack=t.parsedStack,i.hasFullStack=t.hasFullStack;return i}var we,De=(a(Ee,we=he),Ee.CreateFromInterface=function(e){return new Ee(e,null)},Ee.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},Ee.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,Ee.baseSize=58,Ee);function Ee(e,t){var i=we.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:g.FieldType.Required,method:g.FieldType.Required,assembly:g.FieldType.Default,fileName:g.FieldType.Default,line:g.FieldType.Default},"string"==typeof e){var n=e;i.level=t,i.method="<no_method>",i.assembly=B.trim(n),i.fileName="",i.line=0;var r=n.match(Ee.regex);r&&5<=r.length&&(i.method=B.trim(r[2])||i.method,i.fileName=B.trim(r[4]),i.line=parseInt(r[5])||0)}else i.level=e.level,i.method=e.method,i.assembly=e.assembly,i.fileName=e.fileName,i.line=e.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=Ee.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}var Ae,be,Me,Le=(a(Fe,Ae=le),Fe);function Fe(){var e=Ae.call(this)||this;return e.ver=2,e.metrics=[],e.properties={},e}(Me=be=be||{})[Me.Measurement=0]="Measurement",Me[Me.Aggregation=1]="Aggregation";var Ue,Re=(a(ke,Ue=function(){this.kind=be.Measurement}),ke);function ke(){var e=null!==Ue&&Ue.apply(this,arguments)||this;return e.aiDataContract={name:g.FieldType.Required,kind:g.FieldType.Default,value:g.FieldType.Required,count:g.FieldType.Default,min:g.FieldType.Default,max:g.FieldType.Default,stdDev:g.FieldType.Default},e}var Oe,ze=(a(Pe,Oe=Le),Pe.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",Pe.dataType="MetricData",Pe);function Pe(e,t,i,n,r,o,a){var s=Oe.call(this)||this;s.aiDataContract={ver:g.FieldType.Required,metrics:g.FieldType.Required,properties:g.FieldType.Default};var l=new Re;return l.count=0<n?n:void 0,l.max=isNaN(o)||null===o?void 0:o,l.min=isNaN(r)||null===r?void 0:r,l.name=j.sanitizeString(e,t)||B.NotSpecified,l.value=i,s.metrics=[l],s.properties=j.sanitizeProperties(e,a),s}var qe,Ge=(a(He,qe=ue),He);function He(){var e=qe.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var je,Ve=(a(Be,je=Ge),Be.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Be.dataType="PageviewData",Be);function Be(e,t,i,n,r,o,a){var s=je.call(this)||this;return s.aiDataContract={ver:g.FieldType.Required,name:g.FieldType.Default,url:g.FieldType.Default,duration:g.FieldType.Default,properties:g.FieldType.Default,measurements:g.FieldType.Default,id:g.FieldType.Default},s.id=j.sanitizeId(e,a),s.url=j.sanitizeUrl(e,i),s.name=j.sanitizeString(e,t)||B.NotSpecified,isNaN(n)||(s.duration=B.msToTimeSpan(n)),s.properties=j.sanitizeProperties(e,r),s.measurements=j.sanitizeMeasurements(e,o),s}var Xe,We=(a(Ke,Xe=le),Ke);function Ke(){var e=Xe.call(this)||this;return e.ver=2,e.success=!0,e.properties={},e.measurements={},e}var Je,Qe=(a(Ye,Je=We),Ye.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Ye.dataType="RemoteDependencyData",Ye);function Ye(e,t,i,n,r,o,a,s,l,c,u,p){void 0===l&&(l="Ajax");var d=Je.call(this)||this;d.aiDataContract={id:g.FieldType.Required,ver:g.FieldType.Required,name:g.FieldType.Default,resultCode:g.FieldType.Default,duration:g.FieldType.Default,success:g.FieldType.Default,data:g.FieldType.Default,target:g.FieldType.Default,type:g.FieldType.Default,properties:g.FieldType.Default,measurements:g.FieldType.Default,kind:g.FieldType.Default,value:g.FieldType.Default,count:g.FieldType.Default,min:g.FieldType.Default,max:g.FieldType.Default,stdDev:g.FieldType.Default,dependencyKind:g.FieldType.Default,dependencySource:g.FieldType.Default,commandName:g.FieldType.Default,dependencyTypeName:g.FieldType.Default},d.id=t,d.duration=B.msToTimeSpan(r),d.success=o,d.resultCode=a+"",d.type=j.sanitizeString(e,l);var f=Y.ParseDependencyPath(e,i,s,n);return d.data=j.sanitizeUrl(e,n)||f.data,d.target=j.sanitizeString(e,f.target),c&&(d.target=d.target+" | "+c),d.name=j.sanitizeString(e,f.name),d.properties=j.sanitizeProperties(e,u),d.measurements=j.sanitizeMeasurements(e,p),d}var $e,Ze=(a(et,$e=le),et);function et(){var e=$e.call(this)||this;return e.ver=2,e.properties={},e}var tt,it=(a(nt,tt=Ze),nt.envelopeType="Microsoft.ApplicationInsights.{0}.Message",nt.dataType="MessageData",nt);function nt(e,t,i,n){var r=tt.call(this)||this;return r.aiDataContract={ver:g.FieldType.Required,message:g.FieldType.Required,severityLevel:g.FieldType.Default,properties:g.FieldType.Default},t=t||B.NotSpecified,r.message=j.sanitizeMessage(e,t),r.properties=j.sanitizeProperties(e,n),i&&(r.severityLevel=i),r}var rt,ot=(a(at,rt=Ge),at);function at(){var e=rt.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var st,lt=(a(ct,st=ot),ct.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",ct.dataType="PageviewPerformanceData",ct);function ct(e,t,i,n,r,o,a){var s=st.call(this)||this;return s.aiDataContract={ver:g.FieldType.Required,name:g.FieldType.Default,url:g.FieldType.Default,duration:g.FieldType.Default,perfTotal:g.FieldType.Default,networkConnect:g.FieldType.Default,sentRequest:g.FieldType.Default,receivedResponse:g.FieldType.Default,domProcessing:g.FieldType.Default,properties:g.FieldType.Default,measurements:g.FieldType.Default},s.url=j.sanitizeUrl(e,i),s.name=j.sanitizeString(e,t)||B.NotSpecified,s.properties=j.sanitizeProperties(e,r),s.measurements=j.sanitizeMeasurements(e,o),a&&(s.domProcessing=a.domProcessing,s.duration=a.duration,s.networkConnect=a.networkConnect,s.perfTotal=a.perfTotal,s.receivedResponse=a.receivedResponse,s.sentRequest=a.sentRequest),s}var ut,pt,dt=(a(ft,ut=ne),ft);function ft(e,t){var i=ut.call(this)||this;return i.aiDataContract={baseType:g.FieldType.Required,baseData:g.FieldType.Required},i.baseType=e,i.baseData=t,i}(pt=g.SeverityLevel||(g.SeverityLevel={}))[pt.Verbose=0]="Verbose",pt[pt.Information=1]="Information",pt[pt.Warning=2]="Warning",pt[pt.Error=3]="Error",pt[pt.Critical=4]="Critical";var gt=(ht.getConfig=function(e,t,i,n){var r;return void 0===n&&(n=!1),r=i&&e.extensionConfig&&e.extensionConfig[i]&&!u.isNullOrUndefined(e.extensionConfig[i][t])?e.extensionConfig[i][t]:e[t],u.isNullOrUndefined(r)?n:r},ht);function ht(){}var mt=function(){this.applicationVersion="ai.application.ver",this.applicationBuild="ai.application.build",this.applicationTypeId="ai.application.typeId",this.applicationId="ai.application.applicationId",this.applicationLayer="ai.application.layer",this.deviceId="ai.device.id",this.deviceIp="ai.device.ip",this.deviceLanguage="ai.device.language",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceFriendlyName="ai.device.friendlyName",this.deviceNetwork="ai.device.network",this.deviceNetworkName="ai.device.networkName",this.deviceOEMName="ai.device.oemName",this.deviceOS="ai.device.os",this.deviceOSVersion="ai.device.osVersion",this.deviceRoleInstance="ai.device.roleInstance",this.deviceRoleName="ai.device.roleName",this.deviceScreenResolution="ai.device.screenResolution",this.deviceType="ai.device.type",this.deviceMachineName="ai.device.machineName",this.deviceVMName="ai.device.vmName",this.deviceBrowser="ai.device.browser",this.deviceBrowserVersion="ai.device.browserVersion",this.locationIp="ai.location.ip",this.locationCountry="ai.location.country",this.locationProvince="ai.location.province",this.locationCity="ai.location.city",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationRootId="ai.operation.rootId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.sessionIsNew="ai.session.isNew",this.userAccountAcquisitionDate="ai.user.accountAcquisitionDate",this.userAccountId="ai.user.accountId",this.userAgent="ai.user.userAgent",this.userId="ai.user.id",this.userStoreRegion="ai.user.storeRegion",this.userAuthUserId="ai.user.authUserId",this.userAnonymousUserAcquisitionDate="ai.user.anonUserAcquisitionDate",this.userAuthenticatedUserAcquisitionDate="ai.user.authUserAcquisitionDate",this.cloudName="ai.cloud.name",this.cloudRole="ai.cloud.role",this.cloudRoleVer="ai.cloud.roleVer",this.cloudRoleInstance="ai.cloud.roleInstance",this.cloudEnvironment="ai.cloud.environment",this.cloudLocation="ai.cloud.location",this.cloudDeploymentUnit="ai.cloud.deploymentUnit",this.internalNodeName="ai.internal.nodeName",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion"},vt=(yt.create=function(e,t,i,n,r,o){if(i=j.sanitizeString(n,i)||B.NotSpecified,u.isNullOrUndefined(e)||u.isNullOrUndefined(t)||u.isNullOrUndefined(i))throw Error("Input doesn't contain all required fields");var a={name:i,time:(new Date).toISOString(),iKey:"",ext:o||{},tags:[],data:{},baseType:t,baseData:e};if(!u.isNullOrUndefined(r))for(var s in r)r.hasOwnProperty(s)&&(a.data[s]=r[s]);return a},yt);function yt(){}var St=(Tt.UserExt="user",Tt.DeviceExt="device",Tt.TraceExt="trace",Tt.WebExt="web",Tt.AppExt="app",Tt.OSExt="os",Tt.SessionExt="ses",Tt.SDKExt="sdk",Tt);function Tt(){}var It=new mt;g.PropertiesPluginIdentifier="AppInsightsPropertiesPlugin",g.BreezeChannelIdentifier="AppInsightsChannelPlugin",g.Util=B,g.CorrelationIdHelper=J,g.UrlHelper=W,g.DateTimeUtils=Z,g.RequestHeaders=G,g.DisabledPropertyName="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",g.ProcessLegacy="ProcessLegacy",g.SampleRate="sampleRate",g.HttpMethod="http.method",g.AIData=ne,g.AIBase=te,g.Envelope=ae,g.Event=fe,g.Exception=Ie,g.Metric=ze,g.PageView=Ve,g.PageViewData=Ge,g.RemoteDependencyData=Qe,g.Trace=it,g.PageViewPerformance=lt,g.Data=dt,g.ConfigurationManager=gt,g.ContextTagKeys=mt,g.DataSanitizer=j,g.TelemetryItemCreator=vt,g.CtxTagKeys=It,g.Extensions=St,Object.defineProperty(g,"__esModule",{value:!0})});
//# sourceMappingURL=applicationinsights-common.min.js.map
