
{
    "testTitle": "Invoice Test Scenarios - Scenario 5",  
    "starturl": "new-order",    
    "headless": false,
    "testData" : {      
      "additionalCostType" : [{"typeId" : "PercentTypeName1", "type" : "Flat"}],
      "products":["product1Name", "product2Name"],
      "surveyors": ["surveyor1"],
      "serviceCodes": ["serviceCode1"],
      "ports": ["port1"],
      "sellers": ["seller1"],
      "companies": ["company1"],
      "physicalSuppliers": ["physicalSupplier1"]
    },
    "testCases": [
      {
        "keyname": "order",
        "input": {"products":["product1Name", "product2Name"]},
        "output": {"orderId": "order1Id"},
        "eta": 2,
        "serviceCodeId": "serviceCode1",
        "portId": "port1",
        "paymentCompanyId": "company1",        
        "sellerId": "seller1",
        "physicalSupplierId": "physicalSupplier1",
        "products": [
          {
            "id": "product1Name",
            "quantity": 1500,
            "unitPrice": 379,
            "coin": "USD"
          },
          {
            "id": "product2Name",
            "quantity": 600,
            "unitPrice": 415,
            "coin": "USD"
          }
        ]
      },
      {
        "keyname": "delivery",
        "input": {"orderId":"order1Id"},
        "bdnDate": 1,
        "buyerQuantity": "Bdn Quantity",
        "sellerQuantity": "Bdn Quantity",  
        "verifyDelivery": true,
        "completeDelivery": true,
        "products": [
          {
            "id": "product1Name",
            "quantity": 1500
          },
          {
            "id": "product2Name",
            "quantity": 600
          }
        ]
      },      
      {
        "keyname": "invoice",
        "action": "provisional",
        "input": {"orderId":"order1Id"},
        "output": {"invoiceId": "invoice1Id"},
        "invoiceType": "Provisional Invoice",
        "invoiceStatusAfterSave": ["New","Discrepancy"],
        "invoiceStatusAfterSubmit": ["New","Discrepancy","WaitingForApproval"],
        "invoiceStatusAfterApprove": "Approved",
        "testRevert": false,
        "testOrderStatus": false,
        "provisionalData" :{
              "products": [
                {
                  "id": "product1Name",
                  "quantity": 1499,
                  "rate": 380
                },
                {
                  "id": "product2Name",
                  "quantity": 600,
                  "rate": 415
                }
              ],
              "costs": [
                {
                  "nameId": "PercentTypeName1",
                  "type": "Flat",            
                  "applicableForId": "product2Name",
                  "quantity": 2099,
                  "invoiceRate": 650                  
                }
              ]
            }        
      },
      {
        "keyname": "treasury",
        "input": {"orderId":"order1Id"},
        "rows": [ 
          {
            "Calculated Amount": "819270",
            "Invoice Amount": "819270",
            "Invoice Type": "Provisional Invoice"
          }        
        ]
    },
    {
      "keyname": "completeView",
      "input": {"orderId":"order1Id"},
      "rows": [ 
        {
          "Order Product Amount": "568121",
          "Total Invoice Product Amount": "569620"
        },
        {
          "Order Product Amount": "249000",
          "Total Invoice Product Amount": "249650"
        }
      ]
    },
      {
        "keyname": "invoice",
        "action": "finalAfterProvisional",
        "input": {"orderId": "order1Id", "invoiceId":"invoice1Id"},
        "invoiceType": "Final Invoice",
        "invoiceStatusAfterSave": ["New","Discrepancy"],
        "invoiceStatusAfterSubmit": ["New","Discrepancy"],
        "invoiceStatusAfterApprove": ["Approved"],
        "testRevert": false,
        "testOrderStatus": false,
        "finalData": {
          "products": [
            {
              "id": "product1Name",
              "quantity": 1499,
              "rate": 373.6484
            },
            {
              "id": "product2Name",
              "quantity": 600,
              "rate": 415
            }
          ],
          "costs": [
            {
              "nameId": "PercentTypeName1",
              "type": "Flat",            
              "applicableForId": "product2Name",
              "quantity": 2099,
              "invoiceRate": 650,
              "fromOrder": true    
            }
          ]
        }
      },
      {
        "keyname": "treasury",
        "input": {"orderId":"order1Id"},
        "rows": [ 
          {
            "Calculated Amount": "819270",
            "Invoice Amount": "819270",
            "Invoice Type": "Provisional Invoice"            
          },
          {
            "Calculated Amount": "-9521",
            "Invoice Amount": "-9521",
            "Invoice Type": "Final Invoice"
          }        
        ]
      },
      {
        "keyname": "completeView",
        "input": {"orderId":"order1Id"},
        "rows": [ 
          {
            "Order Product Amount": "568121",
            "Total Invoice Product Amount": "560099"
          },
          {
            "Order Product Amount": "249000",
            "Total Invoice Product Amount": "249650"
          }
        ]
      }
  ]
}



  