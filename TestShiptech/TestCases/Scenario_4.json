
{
    "testTitle": "Invoice Test Scenarios - Scenario 4",
    "baseurl": "http://mail.24software.ro:8161/#/",
    "starturl": "new-order",
    "isMasterDb": false,
    "databaseIntegration": {                        
                                "server": "10.1.1.9", 
                                "database": "IntegrationShiptech10PrimeDbCRP2",
                                "user": "sa",
                                "password": "!QAZ2wsx"
                              },
    "username": "superuser@twentyfoursoftwareoutlook.onmicrosoft.com",
    "password": "MyDocuments72%",
    "headless": false,
    "testCases": [
        {
          "keyname": "order",
          "output": {"orderId": "order1Id"},
          "eta": 2,
          "products": [
            {
              "name": "RMG 500 3.5%",
              "quantity": 1500,
              "unitPrice": 379
            }
          ]
        },
        {
          "keyname": "delivery",
          "input": {"orderId":"order1Id"},
          "bdnDate": 1,
          "products": [
            {
              "name": "RMG 500 3.5%",
              "quantity": 1500
            }
          ]
        },     
        {
          "keyname": "treasury",
          "rows": [ 
            {
              "Calculated Amount": "568500",
              "Invoice Amount": "580745",
              "Invoice Type": "Provisional Invoice"
            }        
          ]
        },
      {
        "keyname": "invoice", 
        "action": "provisional",
        "input": {"orderId":"order1Id"},
        "output": {"invoiceId": "invoice1Id"},
        "url": "invoices/deliveries",
        "pageTitle": "Transactions to be Invoiced List",
        "invoiceType": "Provisional Invoice",
        "invoiceStatusAfterSave": ["New","Discrepancy"],
        "invoiceStatusAfterSubmit": ["New","Discrepancy"],
        "invoiceStatusAfterApprove": ["Approved"],
        "currency": "US Dollar",
        "testRevert": false,
        "testOrderStatus": false,
        "paymentDate": 2,
        "provisionalData" :{
              "products": [
                {
                  "name": "RMG 500 3.5%",
                  "quantity": 1499,
                  "rate": 380
                }
              ],
              "costs": [
                {
                  "name": "BARGING",
                  "type": "Flat",            
                  "applicableFor": "All",
                  "quantity": 1499,
                  "unitPrice": 11125                  
                }
              ]
            }        
      },
      {
        "keyname": "treasury",
        "input": {"orderId":"order1Id"},
        "rows": [ 
          {
            "Calculated Amount": "580745",
            "Invoice Amount": "580745",
            "Invoice Type": "Provisional Invoice"
          }        
        ]
    }, 
      {
        "keyname": "invoice",
        "action": "finalAfterProvisional",
        "input": {"orderId": "order1Id", "invoiceId":"invoice1Id"},
        "invoiceStatusAfterSave": ["New","Discrepancy"],
        "invoiceStatusAfterSubmit": ["New","Discrepancy"],
        "invoiceStatusAfterApprove": ["Approved"],
        "currency": "US Dollar",
        "testRevert": false,
        "testOrderStatus": false,
        "paymentDate": 2,
          "finalData": {
            "products": [
              {
                "name": "RMG 500 3.5%",
                "quantity": 1499,
                "rate": 373.6484
              }
            ]
          }
      },
      {
        "keyname": "treasury",
        "input": {"orderId":"order1Id"},
        "rows": [ 
          {
            "Calculated Amount": "580745",
            "Invoice Amount": "580745",
            "Invoice Type": "Provisional Invoice"
          },
          {
            "Calculated Amount": "-9521",
            "Invoice Amount": "-9521",                        
            "Invoice Type": "Final Invoice"
          }          
        ]
      }
  ]
}



  