
{
    "testTitle": "Invoice Test Scenarios - Scenario 7",
    "starturl": "new-order",
    "headless": false,
    "testData" : {      
      "additionalCostType" : {"typeId" : "PercentTypeName1", "type" : "Flat"},
      "products":["product1Name"]
    },
    "testCases": [
      {
        "keyname": "order",
        "input": {"products":["product1Name"]},
        "output": {"orderId": "order1Id"},        
        "eta": 2,
        "products": [
          {
            "id": "product1Name",
            "quantity": 1500,
            "unitPrice": 379
          }
        ]
      },
      {
        "keyname": "delivery",
        "input": {"orderId":"order1Id"},
        "bdnDate": 1,
        "products": [
          {
            "id": "product1Name",
            "quantity": 1500
          }
        ]
      },      
      {
        "keyname": "invoice",
        "action": "provisional",
        "input": {"orderId":"order1Id"},
        "output": {"invoiceId": "invoice1Id"},
        "invoiceType": "Provisional Invoice",
        "invoiceStatusAfterSave": ["New","Discrepancy"],
        "invoiceStatusAfterSubmit": ["New","Discrepancy", "WaitingForApproval"],
        "invoiceStatusAfterApprove": ["Approved"],
        "testRevert": false,
        "testOrderStatus": false,
        "provisionalData" :{
              "products": [
                {
                  "id": "product1Name",
                  "quantity": 1499,
                  "rate": 380
                }
              ]
            }        
      },
      {
        "keyname": "treasury",
        "input": {"orderId":"order1Id"},
        "rows": [ 
          {
            "Invoice Amount": "569620",
            "Calculated Amount": "569620",            
            "Invoice Type": "Provisional Invoice"
          }
        ]
     },
     {
      "keyname": "completeView",
      "input": {"orderId":"order1Id"},
      "rows": [ 
        {
          "Order Product Amount": "568121",
          "Total Invoice Product Amount": "569620"
        }           
      ]
    },
      {
        "keyname": "invoice",
        "action": "cancel",
        "input": {"orderId": "order1Id", "invoiceId":"invoice1Id"},
        "invoiceStatusAfterRevert": ["New","Discrepancy"],
        "invoiceStatusAfterCancel": "Cancelled"
      },
      {
        "keyname": "treasury",
        "url": "invoices/treasuryreport",
        "input": {"orderId":"order1Id"},
        "pageTitle": "Treasury Report",
        "rows": [ 
          {
            "Calculated Amount": "568500",
            "Invoice Amount": "",
            "Invoice Type": ""   
          }              
        ]
      },
      {
        "keyname": "completeView",
        "input": {"orderId":"order1Id"},
        "rows": [ 
          {
            "Order Product Amount": "568500",
            "Total Invoice Product Amount": ""
          },
          {
            "Order Product Amount": "568121",
            "Total Invoice Product Amount": "569620"
          }  
        ]
      },
      {
        "keyname": "invoice",
        "action": "final",
        "input": {"orderId": "order1Id", "invoiceId":"invoice1Id"},
        "invoiceType": "Final Invoice",
        "invoiceStatusAfterSave": ["New","Discrepancy"],
        "invoiceStatusAfterSubmit": ["New","Discrepancy", "WaitingForApproval"],
        "invoiceStatusAfterApprove": ["Approved"],
        "orderId": "",
        "testRevert": false,
        "testOrderStatus": false,
        "finalData":{
              "products": [
                {
                  "id": "product1Name",
                  "quantity": 1499,
                  "rate": 373.65
                }
              ]
            }
      },
      {
        "keyname": "treasury",
        "input": {"orderId":"order1Id"},
        "rows": [ 
          {
            "Calculated Amount": "560101",
            "Invoice Amount": "560101",
            "Invoice Type": "Final Invoice"            
          }
        ]
      },
      {
        "keyname": "completeView",
        "input": {"orderId":"order1Id"},
        "rows": [ 
          {
            "Order Product Amount": "568121",
            "Total Invoice Product Amount": "569620"
          },
          {
            "Order Product Amount": "568121",
            "Total Invoice Product Amount": "569620"
          }  
        ]
      }
  ]
}



  