
{
    "testTitle": "Invoice Test Scenarios - Scenario 8",    
    "starturl": "new-order",    
    "headless": false,
    "testData" : {
        "additionalCostType" : {"typeId" : "PercentTypeName1", "type" : "Percent"},        
        "products":["product1Name", "product2Name"]
    },
    "testCases": [
      {
        "keyname": "order",
        "input": {"products":["product1Name", "product2Name"]},
        "output": {"orderId": "order1Id"},
        "eta": 2,
        "products": [
          {
            "id": "product1Name",
            "quantity": 500,
            "unitPrice": 600
          },
          {
            "id": "product2Name",
            "quantity": 200,
            "unitPrice": 400
          }
        ],
       "costs": [
          {
            "nameId": "FlatTypeName1",
            "type": "Flat",            
            "applicableFor": "All",
            "quantity": 700,
            "unitPrice": 200                  
          },
          {
            "nameId": "FlatTypeName1",
            "type": "Unit",
            "applicableForId": "product1Name",
            "id": "product1Name",
            "quantity": 500,
            "unitPrice": 0.2
          },
          {            
            "nameId": "PercentTypeName1",
            "applicableForId": "product2Name",
            "type": "Percent",
            "id": "product2Name",
            "quantity": 200,
            "unitPrice": 0.3,
            "amount": 234
          }
        ]
      },
      {
        "keyname": "treasury",
        "input": {"orderId":"order1Id"},
        "pageTitle": "Treasury Report",
        "rows": [ 
          {
            "Invoice Amount": "",
            "Calculated Amount": "380540",
            "Invoice Type": ""
          }
        ]
      },
      {
        "keyname": "completeView",
        "input": {"orderId":"order1Id"},
        "rows": [ 
          {
            "Order Product Amount": "300000",
            "Total Invoice Product Amount": "0"
          },
          {
            "Order Product Amount": "80000",
            "Total Invoice Product Amount": "0"
          }  
        ]
      },
      {
        "keyname": "delivery",
        "input": {"orderId":"order1Id"},
        "bdnDate": 1,
        "buyerQuantity": "Bdn Quantity",
        "sellerQuantity": "Bdn Quantity",  
        "products": [
          {
            "id": "product1Name",
            "quantity": 495
          },
          {
            "id": "product2Name",
            "quantity": 195
          }
        ]
      },
      {
        "keyname": "treasury",
        "input": {"orderId":"order1Id"},
        "rows": [ 
          {
            "Invoice Amount": "",
            "Calculated Amount": "375533",
            "Invoice Type": ""
          }
        ]
      },      
      {
        "keyname": "completeView",
        "input": {"orderId":"order1Id"},
        "rows": [ 
          {
            "Order Product Amount": "297000",
            "Total Invoice Product Amount": "0"
          },
          {
            "Order Product Amount": "78000",
            "Total Invoice Product Amount": "0"
          }    
        ]
      },
      {
        "keyname": "invoice",
        "action": "provisionalThenFinal",
        "input": {"orderId":"order1Id"},        
        "invoiceType": "Final Invoice",
        "invoiceStatusAfterSave": ["New","Discrepancy", "Approved"],
        "invoiceStatusAfterSubmit": ["New","Discrepancy","WaitingForApproval"],
        "invoiceStatusAfterApprove": ["Approved"],
        "testRevert": false,
        "testOrderStatus": false,
        "provisionalData" :{
          "products": [
            {
              "id": "product1Name",
              "quantity": 495,
              "rate": 600
            },
            {
              "id": "product2Name",
              "quantity": 195,
              "rate": 400
            }
          ],
          "costs": [
            {
              "name": "BARGING",
              "type": "Flat",            
              "applicableFor": "All",
              "quantity": 690,
              "unitPrice": 200,
              "fromOrder": true
            },
            {
              "name": "BARGING",
              "type": "Unit",
              "applicableForId": "product1Name",
              "id": "product1Name",
              "quantity": 495,
              "unitPrice": 0.2,
              "fromOrder": true
            },
            {              
              "nameId": "PercentTypeName1",
              "type": "Percent",
              "applicableForId": "product2Name",
              "id": "product2Name",
              "quantity": 195,
              "unitPrice": 0.3,
              "amount": 234,
              "fromOrder": true
            }
          ]
        },
        "finalData" :{
              "products": [
                {
                  "id": "product1Name",
                  "quantity": 495,
                  "rate": 600
                },
                {
                  "id": "product2Name",
                  "quantity": 195,
                  "rate": 400
                }
              ],
              "costs": [
                {
                  "name": "BARGING",
                  "type": "Flat",            
                  "applicableFor": "All",
                  "quantity": 690,
                  "unitPrice": 200,
                  "fromOrder": true
                },
                {
                  "name": "BARGING",
                  "type": "Unit",
                  "applicableForId": "product1Name",
                  "id": "product1Name",
                  "quantity": 495,
                  "unitPrice": 0.2,
                  "fromOrder": true
                },
                {              
                  "nameId": "PercentTypeName1",
                  "type": "Percent",
                  "applicableForId": "product2Name",
                  "id": "product2Name",
                  "quantity": 195,
                  "unitPrice": 0.3,
                  "amount": 234,
                  "fromOrder": true
                }
              ]
            }
      },
      {
        "keyname": "treasury",
        "input": {"orderId":"order1Id"},
        "rows": [ 
          {
            "Invoice Amount": "375533",
            "Calculated Amount": "375533",
            "Invoice Type": "Provisional Invoice"
          },
          {
            "Invoice Amount": "0",
            "Calculated Amount": "0",
            "Invoice Type": "Final Invoice"
          }
        ]
    },
    {
      "keyname": "completeView",
      "input": {"orderId":"order1Id"},
      "rows": [ 
        {
          "Order Product Amount": "297000",
          "Total Invoice Product Amount": "297000"
        },
        {
          "Order Product Amount": "78000",
          "Total Invoice Product Amount": "78000"
        }    
      ]
    }
  ]
}



  